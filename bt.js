//BUTINET CODI

//array textos traduit des de hex strings
var _0xe4e4=[
  "",
  "#",
  ":visible",
  "is",
  "hide",
  "right bottom",
  "left top",
  "position",
  "show",
  "deactivate",
  "menu",
  "click",
  "one",
  "selection",
  "empty",
  "getSelection",
  "removeAllRanges",
  "<a href='$1' target='_blank'>$1</a>",
  "replace",
  "result",
  "getElementById",
  "innerHTML",
  "scrollTop",
  "scrollHeight",
  "finestra_ajuda_xatlog",
  "finestra_previ_partida_xatlog",
  "finestra_partida_xatlog",
  "result_log",
  "text_ajuda",
  "disabled",
  "enviar",
  "usuari",
  "password",
  "value",
  "connectar",
  "msg",
  "open",
  "dialog",
  "#finestra_connectar",
  "close",
  "finestra_connectar",
  "display",
  "style",
  "none",
  "isOpen",
  "#finestra_principal",
  "#finestra_previ_partida",
  "#finestra_partida",
  "#finestra_contrar",
  "#finestra_pal_triomf",
  "#menu_xat_principal",
  "#menu_xat_previ_partida",
  "#menu_xat_partida",
  "preparat",
  "checked",
  "PREPARAT",
  "1",
  "0",
  "sel_llistausuaris",
  "length",
  "options",
  "sel_llistapartides",
  "timeout_trigger()",
  "Continuar en ",
  " segons.",
  "text",
  "#text_continuar",
  "option",
  "label",
  "Continuar (",
  ")",
  "button",
  "#continuar_pub",
  "removeAttr",
  "#finestra_publi",
  "timeout_trigger_convidats()",
  "#finestra_convidats_text_continuar",
  "#finestra_convidats_continuar",
  "#finestra_convidats",
  "<b>Connectat OK !</b><BR>",
  "set_nick.php",
  "get",
  "sol_punts",
  "selectedIndex",
  "sol_tipus",
  "P_CREAR2",
  "ButiNET",
  ":",
  "J",
  "General",
  "Suport",
  "suport69",
  "Tens 1ue ficar un usuari",
  "Tens 1ue ficar el password",
  "port",
  "<b>Connectant ....</b><BR>",
  "#finestra_ajuda",
  "#carregant",
  " ",
  "indexOf",
  "substring",
  "substr",
  "charAt",
  "/debug 69",
  "block",
  "XP",
  "Carles",
  "<b>&lt;",
  "&gt;</b>&nbsp;",
  "<BR>",
  "text_partida",
  "PX",
  "text_previ_partida",
  "X",
  "[",
  "sort",
  "createElement",
  "@",
  "]",
  "add",
  "push",
  "remove",
  "split",
  "<b>--- L'usuari ",
  " ha abandonat el Xat.</b><BR>",
  "-1",
  "<b>+++ L'usuari ",
  " ha entrat al Xat.</b><BR>",
  ";",
  "9113",
  "101",
  "2",
  "splice",
  "-Ranking",
  "-Lliure",
  "-Obligada",
  "-",
  "<IMG SRC=\"images/icon/angry.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/arrow.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/biggrin.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/blink.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/cool.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/dry.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/exclamation.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/huh.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/laugh.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/mad.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/ohmy.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/ph34r.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/puke.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/1uestion.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/rolleyes.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/sad.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/smile.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/tongue.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/unsure.gif\" BORDER=0>",
  "<IMG SRC=\"images/icon/wink.gif\" BORDER=0>",
  "search",
  "<a href=\"",
  "\" target=\"_blank\">",
  "</a>",
  "<font color=green>&#60;-",
  "</font><BR>",
  "HI",
  "69",
  "P_CREAR",
  "El password es incorrecte o nick no registrat.",
  "PASWORD",
  "NICK",
  "i",
  "Servidor",
  "Campionat",
  "<font color=red><b>&lt;",
  "Desconnectat !!",
  "a la calle",
  "KICK",
  "USERS",
  "P",
  "I",
  "O",
  "E",
  "PONG",
  "PING",
  "PHI",
  "PUSERS",
  "P_KICK",
  "CREADOR",
  "PELOS",
  "NOPREPARAT",
  "SERVER_PLE",
  "PARTIDA_PLENA",
  "JOIN_ELO",
  "XPE",
  "ENC",
  "<b><font color=red></font></b><BR>",
  "P_ENTRAR",
  "CAN",
  "finestra_fxat_xatlog",
  "fromCharCode",
  "F",
  "START",
  "READY",
  "CARTES",
  "PALPASAT",
  "PAL",
  "CONTRO",
  "RECONTRO",
  "SANT",
  "TIRAR",
  "CARTA",
  "USERS_OK",
  "P_IN",
  "USER_EXIT",
  "FINAL_PARTIDA",
  "RENUNCIO",
  "NORENUNCIO",
  "INFO_CONTRO",
  "RESU",
  "focus",
  "event",
  "keyCode",
  "which",
  "finestra_fxat_xattext",
  "undefined",
  "createRange",
  "selectNodeContents",
  "collapse",
  "addRange",
  "createTextRange",
  "body",
  "moveToElementText",
  "select",
  "<font color=red>-&#62;",
  "send",
  "shift",
  "comanda",
  "p1",
  "p2",
  "QUIT",
  "1uit",
  "core",
  "CLOSE_AJAX",
  "START_AJAX",
  "Inici ...<BR>",
  "load",
  "Load ...<BR>",
  "TCPSocket",
  "start",
  "addEvent",
  "ready",
  "Ready ...<BR>",
  "onopen",
  "Connectat ...<BR>",
  "Envio IDENT ...<BR>",
  "IDENT",
  "BUT007",
  "onread",
  "onclose",
  "Desconectat !!!<BR>",
  "onerror",
  "error",
  "joc.butinet.cat",
  "Inici2 ...<BR>",
  "timedMsg()",
  "http://www.butinet.cat/ab/get.php",
  "random",
  "floor",
  "id=",
  "&r=",
  "UTF-8",
  "ajaxSetup",
  "ajax",
  "http://www.butinet.cat/ab/send.php",
  "comanda=",
  "&p1=",
  "&p2=",
  "Hi ha hagut un error: ",
  "S'ha produit un error: ",
  " - ",
  "message",
  "\n\n",
  "Text rebut: ",
  "**************<BR>",
  "\n",
  "StartTheTimer()",
  "responseText",
  "Error a l'enviar!",
  ".ui-dialog-titlebar-close",
  "children",
  "parent",
  "Vols sortir del xat?",
  "#finestra_fxat",
  "Vols sortir de l'ajuda?",
  "center",
  "tabs",
  "#tabs_connectar",
  ".ui-dialog-titlebar",
  "find",
  ".ui-dialog",
  "parents",
  "#finestra_crear_partida",
  "PQ",
  "finestra_partida_info_partida",
  "Vols sortir de la patida? Perdràs el progrés d'a1uesta.",
  "Vols sortir de la patida? Se't donarà per abandonada.",
  "moveToTop",
  "#dialog_ajuda",
  "Vols sortir del ButiNET?",
  "cancelBubble",
  "returnValue",
  "Segur 1ue vols sortir?",
  "stopPropagation",
  "preventDefault",
  "onbeforeunload",
  "jug_inicial",
  "cartes",
  "jug_guanyador",
  "n_cartes",
  "ba",
  "es",
  "co",
  "or",
  "bu",
  "bastos",
  "espases",
  "copes",
  "oros",
  "botifarra",
  "http://www.butinet.cat/imatges/cartes/mitjanes/",
  ".jpg",
  "jug1",
  "<img class=\"carta",
  "u\" src=\"",
  "\" ondblclick=\"TirarCarta(",
  ")\" onClick=\"SelCarta(",
  ")\" >",
  "\" src=\"",
  "#tapet",
  "0 -30",
  "widget",
  "finestra_pal_triomf_pasar",
  "inline",
  "contrar",
  "Contrar",
  "recontrar",
  "Recontrar",
  "Sant Vicenç",
  "finestra_contrar_text",
  "Vols ",
  "?",
  "title",
  "jug",
  "carta",
  "<img \" src=\"",
  "\" >",
  "<font color=green>Resultat dat: E1uip 1:",
  " E1uip 2: ",
  "<font color=green>Resultat partida: E1uip 1:",
  "info_r1",
  "info_r2",
  "nom",
  "color",
  "#000000",
  "#0000FF",
  "Es el teu torn. Fes dobleclick a la carta 1ue vulguis tirar.",
  "Repartint cartes .....",
  "Enviant carta.",
  "Es el torn de ",
  ".",
  "Fes click per recollir la basa.",
  "Esperant 1ue es reculli la basa.",
  "Esperant 1ue es canti pal triomf.",
  "Esperant 1ue es canti pal triomf passat.",
  "Esperant 1ue es contri.",
  "Esperant 1ue es recontri.",
  "Esperant 1ue es faci Sant Vicens.",
  "La partida s'ha cancelat per consens dels 4 jugadors.",
  "La partida s'ha acabat. Ha guanyat l'e1uip 1.",
  "La partida s'ha acabat. Ha guanyat l'e1uip 2.",
  "La partida s'ha acabat amb empat.",
  "Error: 20.",
  "Partida interrompuda, un jugador ha caigut/marxat.",
  "???Estat desconegut .....",
  "finestra_partida_estat",
  "info_nom_j",
  "<a href=\"avascript:void();\" onclick=\"canviar_pos(",
  ")\">",
  "Lliure",
  "Obligada",
  "info_tipus",
  "/",
  "finestra_partida_info_pal",
  "Ba",
  "Es",
  "Co",
  "Or",
  "Bu",
  "http://www.butinet.cat/imatges/cartes/mitjanes/Ico",
  "<img src=\"",
  "\">",
  "finestra_partida_info_contro",
  "x",
  "finestra_partida_info_pasat",
  "http://www.butinet.cat/imatges/cartes/mitjanes/IcoPa.jpg",
  "info_contro",
  "NO contrada",
  "info_j",
  "TP",
  "T",
  "Bastos",
  "Espases.",
  "Copes.",
  "Oros.",
  "Botifarra.",
  "--",
  "info_pal",
  "info_nma",
  "info_j1",
  "info_j2",
  "info_j3",
  "info_j4",
  "Contrada.",
  "C",
  "Recontrada.",
  "R",
  "Sant Vicenç.",
  "S",
  "dialog_ajuda_contingut",
  "<font color=green>El triomf s'ha passat.</font><BR>",
  "<font color=green>El triomf es ",
  "<font color=green>Partida contrada !</font><BR>",
  "<font color=green>Partida recontrada !</font><BR>",
  "<font color=green>Partida Sant Vicentada !</font><BR>",
  "<font color=red>Hi ha hagut un renunci.</font><BR>",
  "DIALOG",
  "hola",
  "className",
  "cells",
  "Pos",
  "CP_START",
  "CP_MOURE",
  "CP_KICK",
  "finestra_previ_partida_info",
  "PJ",
  "http://www.butinet.cat/imatges/",
  "verd.jpg",
  "interrogant.jpg",
  "groc.jpg",
  "vermell.jpg",
  "Huma",
  "Robot",
  "Maxima",
  "Mitja",
  "Nul.la",
  "c",
  "*",
  "<table class=\"info_partida\">",
  "<tr><td></td></tr>",
  "<tr onclick=\"highlight(this);\"><td>--buit--</td><td>",
  "</td></tr>",
  "<tr onclick=\"highlight(this);\"><td>",
  "</td>",
  "<td>",
  "</tr>",
  "finestra_previ_partida_controls",
  "finestra_previ_partida_preparat",
  "No es poden fer partides de ran1uing des de la web.",
  "CP_CONVIT",
  "Multi_Robot",
  "T'hen fet fora de la partida !!",
  "T'han fet fora de la partida.",
  "La partida està plena.",
  "No has acabat una partida, no pots entrar durant un temps a cap altre partida.",
  "No pots entrar en una partida mentre estàs jugant en un campionat.",
  "Se t'ha acabat el temps de joc com a usuari convidat pel dia d'avui. Podràs tornar a jugar demà.",
  "Els convidats no podeu jugar partides de ranking.",
  "No pots entrar a a1uesta partida.",
  "crear_publica",
  "crear_ranking",
  "crear_punts",
  "crear_tipus",
  "parse",
  "finestra_partida",
  "html",
  "partida_pal",
  "partida_pal_1ui",
  "partida_pal_pasat",
  "partida_tipus",
  "partida_punts",
  "partida_acabada",
  "estat_partida",
  "torn_jugador",
  "joc_cartes",
  "basa",
  "n_ma",
  "log_partida_pos",
  "play",
  "Executo: ---",
  "CARTES_MA",
  "getTime",
  "Play(0)",
  "http://www.butinet.cat/ape/get_manual.php",
  "http://www.butinet.cat/ape/get_partida.php",
  "Rebut: ---",
  "---",
  "Ini: ",
  "Error al agafar la partida ",
  " x "
];

//variables globals
var usuari;
var usuari_real;
var password;
var ajuda;
var fxat=0;
var convidat=0;
var jugar_sol;
var iphone;

var sala_principal="";

var timerID=null;
var delay=100;
var delay_min=100;
var delay_max_partida=500;
var delay_max=5000;
var debug=1;
var timer=0;
var idget=0;
var estat_conex=0;
var codi_pas;
var pendents_enviar=[];
var semafor_enviar=1;
var finestra_principal_tancar=0;
var finestra_carregant_close=0;
var llista_partides=new Array();
var llista_usuaris=new Array();
var segons_espera=15;
var partida_log=0;

function Crear_Menu(d,c){
  var b=$("#"+d);
  if(b["is"](":visible")){
    b["hide"]();
    return false
  }

  b[_0xe4e4[10]](_0xe4e4[9])[_0xe4e4[8]]()[_0xe4e4[7]]({my:_0xe4e4[5],at:_0xe4e4[6],of:"#"+c});

  $(document)[_0xe4e4[12]](_0xe4e4[11],function()
  {
    $(document)[_0xe4e4[12]](_0xe4e4[11],function(){
      b["hide"]()
    })
  })
}

function clearSelection(){
  var b;
  if(document[_0xe4e4[13]]&&document[_0xe4e4[13]][_0xe4e4[14]]){
    document[_0xe4e4[13]][_0xe4e4[14]]()
  }else{
    if(window[_0xe4e4[15]]){
      b=window[_0xe4e4[15]]();
      if(b&&b[_0xe4e4[16]]){b[_0xe4e4[16]]()}
    }
  }
}

function FerLinks(b){
  return b[_0xe4e4[18]](/(http:\/\/\S+)/g,_0xe4e4[17])
}

function AfegirTextXat(c){
  if(ajuda||fxat){return}var b=document[_0xe4e4[20]](_0xe4e4[19]);b[_0xe4e4[21]]=b[_0xe4e4[21]]+c;b[_0xe4e4[22]]=b[_0xe4e4[23]]
}

function AfegirTextXatAjuda(c){
  var b=document[_0xe4e4[20]](_0xe4e4[24]);b[_0xe4e4[21]]=b[_0xe4e4[21]]+c;b[_0xe4e4[22]]=b[_0xe4e4[23]]
}

function AfegirTextXatPrevi(c){
  var b=document[_0xe4e4[20]](_0xe4e4[25]);b[_0xe4e4[21]]=b[_0xe4e4[21]]+c;b[_0xe4e4[22]]=b[_0xe4e4[23]]
}

function AfegirTextXatPartida(c){
  var b=document[_0xe4e4[20]](_0xe4e4[26]);b[_0xe4e4[21]]=b[_0xe4e4[21]]+c;b[_0xe4e4[22]]=b[_0xe4e4[23]]
}

function AfegirLog(c){
  if(debug){var b=document[_0xe4e4[20]](_0xe4e4[27]);b[_0xe4e4[21]]=b[_0xe4e4[21]]+c;b[_0xe4e4[22]]=b[_0xe4e4[23]]}
}

function Canviar_Estat_Connexio(b){
  if(ajuda){if(b==0){estat_conex=0;var c=document[_0xe4e4[20]](_0xe4e4[28]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[30]);c[_0xe4e4[29]]=true}if(b==1){estat_conex=1;var c=document[_0xe4e4[20]](_0xe4e4[28]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[30]);c[_0xe4e4[29]]=true}if(b==2){estat_conex=2;var c=document[_0xe4e4[20]](_0xe4e4[28]);c[_0xe4e4[29]]=false;c=document[_0xe4e4[20]](_0xe4e4[30]);c[_0xe4e4[29]]=false}return}if(fxat){if(b==0){estat_conex=0}if(b==1){estat_conex=1}if(b==2){}return}if(b==0){estat_conex=0;var c=document[_0xe4e4[20]](_0xe4e4[31]);c[_0xe4e4[29]]=false;c=document[_0xe4e4[20]](_0xe4e4[32]);c[_0xe4e4[33]]=_0xe4e4[0];c[_0xe4e4[29]]=false;c=document[_0xe4e4[20]](_0xe4e4[34]);c[_0xe4e4[29]]=false;c=document[_0xe4e4[20]](_0xe4e4[30]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[35]);c[_0xe4e4[29]]=true;$(_0xe4e4[38])[_0xe4e4[37]](_0xe4e4[36])}if(b==1){estat_conex=1;var c=document[_0xe4e4[20]](_0xe4e4[31]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[32]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[34]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[30]);c[_0xe4e4[29]]=false;c=document[_0xe4e4[20]](_0xe4e4[35]);c[_0xe4e4[29]]=false;$(_0xe4e4[38])[_0xe4e4[37]](_0xe4e4[39])}if(b==2){estat_conex=2;var c=document[_0xe4e4[20]](_0xe4e4[31]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[32]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[34]);c[_0xe4e4[29]]=true;c=document[_0xe4e4[20]](_0xe4e4[30]);c[_0xe4e4[29]]=false;c=document[_0xe4e4[20]](_0xe4e4[35]);c[_0xe4e4[29]]=false;c=document[_0xe4e4[20]](_0xe4e4[40]);c[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43];$(_0xe4e4[38])[_0xe4e4[37]](_0xe4e4[39])}
}

function Desconnectar(){
  clearTimeout(timerID);timer=0;Desconnectar_Conexio();if($(_0xe4e4[45])[_0xe4e4[37]](_0xe4e4[44])){finestra_principal_tancar=1;$(_0xe4e4[45])[_0xe4e4[37]](_0xe4e4[39])}if($(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[44])){finestra_previ_partida_tancar=1;$(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[39])}if($(_0xe4e4[47])[_0xe4e4[37]](_0xe4e4[44])){finestra_partida_tancar=1;$(_0xe4e4[47])[_0xe4e4[37]](_0xe4e4[39])}if($(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[44])){finestra_contrar_tancar=1;$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[39])}if($(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[44])){finestra_pal_triomf_tancar=1;$(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[39])}if($(_0xe4e4[50])["is"](":visible")){$(_0xe4e4[50])["hide"]()}if($(_0xe4e4[51])["is"](":visible")){$(_0xe4e4[51])["hide"]()}if($(_0xe4e4[52])["is"](":visible")){$(_0xe4e4[52])["hide"]()}Canviar_Estat_Connexio(0)
}

function CanviPreparat(){
  var b=document[_0xe4e4[20]](_0xe4e4[53]);if(b[_0xe4e4[54]]==true){Enviar_Comanda(_0xe4e4[55],_0xe4e4[56],_0xe4e4[0])}else{Enviar_Comanda(_0xe4e4[55],_0xe4e4[57],_0xe4e4[0])}
}

function Netejar_Finestra_Principal(){
  var c=document[_0xe4e4[20]](_0xe4e4[19]);c[_0xe4e4[21]]=_0xe4e4[0];c=document[_0xe4e4[20]](_0xe4e4[19]);c[_0xe4e4[21]]=_0xe4e4[0];var b=document[_0xe4e4[20]](_0xe4e4[58]);b[_0xe4e4[60]][_0xe4e4[59]]=0;b=document[_0xe4e4[20]](_0xe4e4[61]);b[_0xe4e4[60]][_0xe4e4[59]]=0
}

function Llegir_Comanda(e){
  var d;var c=separar(e);for(var b=0;b<c[_0xe4e4[59]];b=b+1){if(c[b][_0xe4e4[59]]>0){d=Dividir_Comanda(c[b]);Parsejar_Comanda(d[0],d[1],d[2])}}
}

function timeout_trigger(){
  segons_espera=segons_espera-1;if(segons_espera>0){setTimeout(_0xe4e4[62],1000);$(_0xe4e4[66])[_0xe4e4[65]](_0xe4e4[63]+segons_espera+_0xe4e4[64]);$(_0xe4e4[72])[_0xe4e4[71]](_0xe4e4[67],_0xe4e4[68],_0xe4e4[69]+segons_espera+_0xe4e4[70])}else{$(_0xe4e4[66])[_0xe4e4[65]](_0xe4e4[0]);$(_0xe4e4[72])[_0xe4e4[73]](_0xe4e4[29])}
}

function Pre_Connectar(b){
  segons_espera=b;$(_0xe4e4[74])[_0xe4e4[37]](_0xe4e4[36]);timeout_trigger()
}

function timeout_trigger_convidats(){
  segons_espera=segons_espera-1;if(segons_espera>0){setTimeout(_0xe4e4[75],1000);$(_0xe4e4[76])[_0xe4e4[65]](_0xe4e4[63]+segons_espera+_0xe4e4[64]);$(_0xe4e4[77])[_0xe4e4[71]](_0xe4e4[67],_0xe4e4[68],_0xe4e4[69]+segons_espera+_0xe4e4[70])}else{$(_0xe4e4[76])[_0xe4e4[65]](_0xe4e4[0]);$(_0xe4e4[77])[_0xe4e4[73]](_0xe4e4[29])}
}

function Publi_Convidats(b){
  segons_espera=b;$(_0xe4e4[78])[_0xe4e4[37]](_0xe4e4[36]);timeout_trigger_convidats()
}

function Tancar_Finestra_Convidats(){
  if(segons_espera==0){$(_0xe4e4[78])[_0xe4e4[37]](_0xe4e4[39]);Canviar_Estat_Connexio(2);AfegirTextXat(_0xe4e4[79]);jQuery[_0xe4e4[81]](_0xe4e4[80],{nick:usuari});if(jugar_sol){var d,b,c;d=document[_0xe4e4[20]](_0xe4e4[82]);b=d[_0xe4e4[60]][d[_0xe4e4[83]]][_0xe4e4[33]];d=document[_0xe4e4[20]](_0xe4e4[84]);c=d[_0xe4e4[60]][d[_0xe4e4[83]]][_0xe4e4[33]];Enviar_Comanda(_0xe4e4[85],_0xe4e4[86],c+_0xe4e4[87]+b+_0xe4e4[87]+0+_0xe4e4[87]+0)}else{Enviar_Comanda(_0xe4e4[88],_0xe4e4[89],_0xe4e4[0])}}
}

function Connectar(e,c){
  $(_0xe4e4[74])[_0xe4e4[37]](_0xe4e4[39]);if(e===undefined){e=0}if(c===undefined){c=0}var d=document[_0xe4e4[20]](_0xe4e4[31]);ajuda=0;jugar_sol=0;var b=1;if(e==1){ajuda=1;jugar_sol=0;usuari=_0xe4e4[90];usuari_real=_0xe4e4[90];password=_0xe4e4[91];port=9112;b=0}else{if(e==2){ajuda=0;jugar_sol=0;fxat=1;usuari=_0xe4e4[90];usuari_real=_0xe4e4[90];password=_0xe4e4[91];port=9111;b=0}else{if(c==1){ajuda=0;jugar_sol=1}}}if(b){usuari=d[_0xe4e4[33]];usuari_real=usuari;if(usuari[_0xe4e4[59]]==0){alert(_0xe4e4[92]);return}d=document[_0xe4e4[20]](_0xe4e4[32]);password=d[_0xe4e4[33]];if(password[_0xe4e4[59]]==0){alert(_0xe4e4[93]);return}d=document[_0xe4e4[20]](_0xe4e4[94]);port=d[_0xe4e4[60]][d[_0xe4e4[83]]][_0xe4e4[33]];if(port[_0xe4e4[59]]==0){port=9112}port=9112;llista_usuaris=new Array();llista_partides=new Array();finestra_principal_tancar=0;Netejar_Finestra_Principal();AfegirTextXat(_0xe4e4[95])}pendents_enviar=[];semafor_enviar=1;Canviar_Estat_Connexio(1);if(ajuda==0&&jugar_sol==0){$(_0xe4e4[45])[_0xe4e4[37]](_0xe4e4[36])}if(ajuda==1){$(_0xe4e4[96])[_0xe4e4[37]](_0xe4e4[36])}if(jugar_sol){$(_0xe4e4[97])[_0xe4e4[37]](_0xe4e4[36])}Connectar_Conexio(port)
}

function Dividir_Comanda(b){
  var e=new Array();e[1]=_0xe4e4[0];e[2]=_0xe4e4[0];var d=b[_0xe4e4[99]](_0xe4e4[98]);if(d==-1){e[0]=b;return e}e[0]=b[_0xe4e4[100]](0,d);var c=b[_0xe4e4[99]](_0xe4e4[98],d+1);if(c==-1){e[1]=b[_0xe4e4[100]](d+1);return e}e[1]=b[_0xe4e4[100]](d+1,c);e[2]=b[_0xe4e4[100]](c+1);return e
}

function setCharAt(c,b,d){
  if(b>c[_0xe4e4[59]]-1){return c}return c[_0xe4e4[101]](0,b)+d+c[_0xe4e4[101]](b+1)
}

function Codificar_Password(g,f){
  var e;var c;var d;var b;var j;e=f+g+f;j=e[_0xe4e4[59]];for(b=0;b<j;b=b+2){c=e[_0xe4e4[102]](b);d=e[_0xe4e4[102]](j-b-1);e=setCharAt(e,b,d);e=setCharAt(e,j-b-1,c)}var h=MD5(e);return h
}

function EnviarText(d){
  var b=document[_0xe4e4[20]](d)[_0xe4e4[33]];
  var c=document[_0xe4e4[20]](d);
  c[_0xe4e4[33]]=_0xe4e4[0];
  if(b==_0xe4e4[103]){
    debug=!debug;
    var e=document[_0xe4e4[20]](_0xe4e4[27]);
    if(debug){e[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104]}else{e[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43]}
  }else{
    switch(d){
      case _0xe4e4[28]:Enviar_Comanda(_0xe4e4[105],_0xe4e4[106],b);AfegirTextXatAjuda(_0xe4e4[107]+usuari_real+_0xe4e4[108]+b+_0xe4e4[109]);return;
      case _0xe4e4[110]:
      case _0xe4e4[112]:Enviar_Comanda(_0xe4e4[111],usuari,b);return;
      case _0xe4e4[35]:Enviar_Comanda(_0xe4e4[113],sala_principal,b);return}
  }
}

function compareOptionText(c,b){
  if(c[_0xe4e4[65]][_0xe4e4[102]](0)==_0xe4e4[114]&&b[_0xe4e4[65]][_0xe4e4[102]](0)!=_0xe4e4[114]){return 1}if(b[_0xe4e4[65]][_0xe4e4[102]](0)==_0xe4e4[114]&&c[_0xe4e4[65]][_0xe4e4[102]](0)!=_0xe4e4[114]){return -1}return c[_0xe4e4[65]]!=b[_0xe4e4[65]]?c[_0xe4e4[65]]<b[_0xe4e4[65]]?-1:1:0
}

function sortOptions(d){
  var c=d[_0xe4e4[60]][_0xe4e4[59]];var b=new Array(c);for(i=0;i<c;i++){b[i]=new Option(d[_0xe4e4[60]][i][_0xe4e4[65]],d[_0xe4e4[60]][i][_0xe4e4[33]])}b[_0xe4e4[115]](compareOptionText);for(i=0;i<c;i++){d[_0xe4e4[60]][i]=new Option(b[i][_0xe4e4[65]],b[i][_0xe4e4[33]])}
}

function Afegir_usuari_Llista(d,e,c){
  var g=document[_0xe4e4[20]](_0xe4e4[58]);var b;b=document[_0xe4e4[116]](_0xe4e4[67]);text_nick=d;if(c==1){text_nick=_0xe4e4[117]+text_nick}if(e==1){text_nick=_0xe4e4[114]+text_nick+_0xe4e4[118]}b[_0xe4e4[65]]=text_nick;b[_0xe4e4[33]]=d;try{g[_0xe4e4[119]](b,null)}catch(f){g[_0xe4e4[119]](b)}try{sortOptions(g)}catch(f){}
}

function Afegir_Usuari_Canal(e,b,d){
  var c;if(e==sala_principal){llista_usuaris[_0xe4e4[120]](d);Afegir_usuari_Llista(b,d[2],d[4])}
}

function Treure_Usuari_Llista(b){
  var d=document[_0xe4e4[20]](_0xe4e4[58]);var c=_0xe4e4[0];for(i=d[_0xe4e4[59]]-1;i>=0;i--){if(d[_0xe4e4[60]][i][_0xe4e4[33]]==b){d[_0xe4e4[121]](i)}}
}

function Usuari_Surt_Xat(e,d){
  var c=e[_0xe4e4[122]](_0xe4e4[87],2);if(c[_0xe4e4[59]]==1){var b=c[0];var f=sala_principal}else{var b=c[1];var f=c[0]}if(f!=sala_principal){return 1}AfegirTextXat(_0xe4e4[123]+b+_0xe4e4[124]);Treure_Usuari_Llista(b)
}

function Canviar_Estat_Usuari(c,d){
  var b=d[_0xe4e4[122]](_0xe4e4[87],2);if(b[_0xe4e4[59]]<1){b[0]=_0xe4e4[57]}if(b[_0xe4e4[59]]<2){b[1]=_0xe4e4[57]}Treure_Usuari_Llista(c);Afegir_usuari_Llista(c,b[0],b[1])
}

function Usuari_Entra_Xat(f,d){
  var c=f[_0xe4e4[122]](_0xe4e4[87],2);var g;if(c[_0xe4e4[59]]==1){var b=c[0];g=sala_principal}else{var b=c[1];var g=c[0]}if(g!=sala_principal){return 1}if(d[_0xe4e4[59]]==0){d=_0xe4e4[125]}var e;d=b+_0xe4e4[87]+d;e=d[_0xe4e4[122]](_0xe4e4[87]);if(e[_0xe4e4[59]]<2){e[1]=_0xe4e4[125]}if(e[_0xe4e4[59]]<3){e[2]=_0xe4e4[57]}if(e[_0xe4e4[59]]<4){e[3]=_0xe4e4[57]}if(e[_0xe4e4[59]]<5){e[4]=_0xe4e4[57]}e[1]=parseInt(e[1]);e[2]=parseInt(e[2]);e[3]=parseInt(e[3]);e[4]=parseInt(e[4]);Afegir_Usuari_Canal(g,b,e);AfegirTextXat(_0xe4e4[126]+b+_0xe4e4[127])
}

function Rebre_Llistat_Usuaris(l,k){
  var h=l[_0xe4e4[122]](_0xe4e4[87],2);var j=h[0];var f=h[1];var g;if(j!=sala_principal){return 1}if(f==_0xe4e4[57]){var b=document[_0xe4e4[20]](_0xe4e4[58]);for(var e=0;e<b[_0xe4e4[60]][_0xe4e4[59]];e++){b[_0xe4e4[60]][e]=null}llista_usuaris=new Array()}var d=k[_0xe4e4[122]](_0xe4e4[128]);for(var c=0;c<d[_0xe4e4[59]];c++){g=d[c][_0xe4e4[122]](_0xe4e4[87]);if(g[_0xe4e4[59]]<2){g[1]=_0xe4e4[125]}if(g[_0xe4e4[59]]<3){g[2]=_0xe4e4[56]}if(g[_0xe4e4[59]]<4){g[3]=_0xe4e4[57]}if(g[_0xe4e4[59]]<5){g[4]=_0xe4e4[57]}if(g[_0xe4e4[59]]<6){g[5]=_0xe4e4[57]}if(g[_0xe4e4[59]]<7){g[6]=_0xe4e4[0]}g[1]=parseInt(g[1]);g[2]=parseInt(g[2]);g[3]=parseInt(g[3]);g[4]=parseInt(g[4]);g[5]=parseInt(g[5]);Afegir_Usuari_Canal(j,g[0],g)}
}

function Info_Partida(g,e){
  var c=g[_0xe4e4[122]](_0xe4e4[87]);if(c[_0xe4e4[59]]==1){var h=c[0];var f=_0xe4e4[0]}else{var h=c[0];var f=c[2]}if(h==_0xe4e4[57]){var d=e[_0xe4e4[122]]("#");if(d[_0xe4e4[59]]<5){d[4]=_0xe4e4[57]}if(d[_0xe4e4[59]]<6){d[5]=_0xe4e4[129]}if(d[_0xe4e4[59]]<7){d[6]=_0xe4e4[56]}if(d[_0xe4e4[59]]<8){d[7]=_0xe4e4[130]}if(d[_0xe4e4[59]]<9){d[8]=_0xe4e4[57]}llista_partides[_0xe4e4[120]](d);Omplir_Llista_Partides()}if(h==_0xe4e4[56]){}if(h==_0xe4e4[131]){for(var b=0;b<llista_partides[_0xe4e4[59]];b++){d=llista_partides[b];if(d[1]==e){llista_partides[_0xe4e4[132]](b,1)}}Omplir_Llista_Partides()}
}

function Omplir_Llista_Partides(){
  var f=document[_0xe4e4[20]](_0xe4e4[61]);var c;var b;var g;for(var d=0;d<f[_0xe4e4[60]][_0xe4e4[59]];d++){f[_0xe4e4[60]][d]=null}f[_0xe4e4[60]][_0xe4e4[59]]=0;for(var d=0;d<llista_partides[_0xe4e4[59]];d++){b=llista_partides[d];c=document[_0xe4e4[116]](_0xe4e4[67]);g=b[0];if(b[8]==1){g=g+_0xe4e4[133]}if(b[4]==0){g=g+_0xe4e4[134]}else{g=g+_0xe4e4[135]}g=g+_0xe4e4[136]+b[7];c[_0xe4e4[65]]=g;c[_0xe4e4[33]]=b[1];try{f[_0xe4e4[119]](c,null)}catch(e){f[_0xe4e4[119]](c)}}
}

function Comprovar_Smyles(b){
  b=b[_0xe4e4[18]](/:angry:/g,_0xe4e4[137]);b=b[_0xe4e4[18]](/:arrow:/g,_0xe4e4[138]);b=b[_0xe4e4[18]](/:\)\)/g,_0xe4e4[139]);b=b[_0xe4e4[18]](/;;\)/g,_0xe4e4[140]);b=b[_0xe4e4[18]](/8\)/g,_0xe4e4[141]);b=b[_0xe4e4[18]](/:dunno:/g,_0xe4e4[142]);b=b[_0xe4e4[18]](/:!:/g,_0xe4e4[143]);b=b[_0xe4e4[18]](/:\?:/g,_0xe4e4[144]);b=b[_0xe4e4[18]](/:haha:/g,_0xe4e4[145]);b=b[_0xe4e4[18]](/:mad:/g,_0xe4e4[146]);b=b[_0xe4e4[18]](/O\)/g,_0xe4e4[147]);b=b[_0xe4e4[18]](/:fear:/g,_0xe4e4[148]);b=b[_0xe4e4[18]](/:puke:/g,_0xe4e4[149]);b=b[_0xe4e4[18]](/:\?\?:/g,_0xe4e4[150]);b=b[_0xe4e4[18]](/:we:/g,_0xe4e4[151]);b=b[_0xe4e4[18]](/:\(/g,_0xe4e4[152]);b=b[_0xe4e4[18]](/:\)/g,_0xe4e4[153]);b=b[_0xe4e4[18]](/:P/g,_0xe4e4[154]);b=b[_0xe4e4[18]](/:123:/g,_0xe4e4[155]);b=b[_0xe4e4[18]](/;\)/g,_0xe4e4[156]);return b
}

function Comprovar_Links(h){
  var g;var e;var f;var d;var c=h[_0xe4e4[157]](/http/i);if(c<0){return h}var b=h[_0xe4e4[99]](_0xe4e4[98],c);if(b<0){}g=h[_0xe4e4[101]](0,c-1);if(b==-1){e=h[_0xe4e4[101]](c);f=_0xe4e4[0]}else{e=h[_0xe4e4[101]](c,b-c);f=h[_0xe4e4[101]](b)}d=g+_0xe4e4[158]+e+_0xe4e4[159]+e+_0xe4e4[160]+f;return d
}

function Parsejar_Comanda(g,m,l){
  var b;var o;AfegirLog(_0xe4e4[161]+g+_0xe4e4[98]+m+_0xe4e4[98]+l+_0xe4e4[162]);
  switch(g){
    case _0xe4e4[163]:codi_pas=l;if(jugar_sol){Enviar_Comanda(_0xe4e4[163],usuari,_0xe4e4[164])}else{Enviar_Comanda(_0xe4e4[163],usuari,_0xe4e4[57])}break;
    case _0xe4e4[168]:
      switch(parseInt(m)){
        case 0:case 1:case 2:Canviar_Estat_Connexio(2);AfegirTextXat(_0xe4e4[79]);sala_principal=_0xe4e4[86];if(jugar_sol){var f,k,j;f=document[_0xe4e4[20]](_0xe4e4[82]);k=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];f=document[_0xe4e4[20]](_0xe4e4[84]);j=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];Enviar_Comanda(_0xe4e4[165],_0xe4e4[86],j+_0xe4e4[87]+k+_0xe4e4[87]+0+_0xe4e4[87]+0)}jQuery[_0xe4e4[81]](_0xe4e4[80],{nick:usuari});break;case 3:case 4:alert(_0xe4e4[166]);Desconnectar();break;case 5:convidat=1;sala_principal=_0xe4e4[89];Canviar_Estat_Connexio(2);AfegirTextXat(_0xe4e4[79]);jQuery[_0xe4e4[81]](_0xe4e4[80],{nick:usuari});usuari=l;AfegirTextXat(_0xe4e4[79]);if(jugar_sol){var f,k,j;f=document[_0xe4e4[20]](_0xe4e4[82]);k=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];f=document[_0xe4e4[20]](_0xe4e4[84]);j=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];Enviar_Comanda(_0xe4e4[165],_0xe4e4[86],j+_0xe4e4[87]+k+_0xe4e4[87]+0+_0xe4e4[87]+0)}break;case 6:sala_principal=_0xe4e4[89];Publi_Convidats(30);break;case 8:alert(_0xe4e4[166]);Desconnectar();break;case 9:var h=Codificar_Password(MD5(password),codi_pas);Enviar_Comanda(_0xe4e4[167],h,usuari);break
      }break;
    case _0xe4e4[113]:if(ajuda||fxat){break}b=m[_0xe4e4[122]](_0xe4e4[87]);if(b[_0xe4e4[59]]==1){sala=sala_principal;b=b[0]}else{sala=b[0];b=b[1]}if(sala!=sala_principal){return 1}var d=new RegExp(usuari_real,_0xe4e4[169]);o=l[_0xe4e4[157]](d);l=FerLinks(l);l=Comprovar_Smyles(l);if(b==_0xe4e4[170]||b==_0xe4e4[171]||o>=0){AfegirTextXat(_0xe4e4[172]+b+_0xe4e4[108]+l+_0xe4e4[162])}else{AfegirTextXat(_0xe4e4[107]+b+_0xe4e4[108]+l+_0xe4e4[109])}break;
    case _0xe4e4[175]:if(!ajuda||!fxat){AfegirTextXat(_0xe4e4[173]+_0xe4e4[109])}alert(_0xe4e4[174]);Desconnectar();break;
    case _0xe4e4[176]:if(ajuda||fxat){break}Rebre_Llistat_Usuaris(m,l);break;
    case _0xe4e4[177]:if(ajuda||fxat){break}Info_Partida(m,l);break;
    case _0xe4e4[178]:if(ajuda||fxat){break}Usuari_Entra_Xat(m,l);break;
    case _0xe4e4[179]:if(ajuda||fxat){break}Usuari_Surt_Xat(m,l);break;
    case _0xe4e4[180]:if(ajuda||fxat){break}Canviar_Estat_Usuari(m,l);break;
    case _0xe4e4[182]:Enviar_Comanda(_0xe4e4[181],m,null);break;
    case _0xe4e4[183]:
    case _0xe4e4[184]:
    case _0xe4e4[111]:
    case _0xe4e4[55]:
    case _0xe4e4[185]:
    case _0xe4e4[186]:
    case _0xe4e4[187]:
    case _0xe4e4[188]:
    case _0xe4e4[189]:
    case _0xe4e4[190]:
    case _0xe4e4[191]:if(ajuda||fxat){break}Parsejar_Comanda_Previ_Partida(g,m,l);break;
    case _0xe4e4[105]:if(ajuda&&m==_0xe4e4[106]){l=FerLinks(l);l=Comprovar_Smyles(l);AfegirTextXatAjuda(_0xe4e4[107]+m+_0xe4e4[108]+l+_0xe4e4[109])}else{Enviar_Comanda(_0xe4e4[192],m,_0xe4e4[178])}break;
    case _0xe4e4[192]:if(ajuda&&m==_0xe4e4[106]){if(l==_0xe4e4[193]){AfegirTextXatAjuda(_0xe4e4[194])}}break;
    case _0xe4e4[195]:JoinPartidaId(l);break;
    case _0xe4e4[196]:MissatgeCanvas(m,l);break;
    case _0xe4e4[199]:var c=parseInt(l);if(c==10||c==13){c=_0xe4e4[109]}else{if(c==8){var e=document[_0xe4e4[20]](_0xe4e4[197]);e[_0xe4e4[21]]=e[_0xe4e4[21]][_0xe4e4[100]](0,e[_0xe4e4[21]][_0xe4e4[59]]-1);e[_0xe4e4[22]]=e[_0xe4e4[23]];c=false}else{c=String[_0xe4e4[198]](c)}}if(c){var e=document[_0xe4e4[20]](_0xe4e4[197]);e[_0xe4e4[21]]=e[_0xe4e4[21]]+c;e[_0xe4e4[22]]=e[_0xe4e4[23]]}break;
    case _0xe4e4[200]:
    case _0xe4e4[201]:
    case _0xe4e4[202]:
    case _0xe4e4[203]:
    case _0xe4e4[204]:
    case _0xe4e4[205]:
    case _0xe4e4[206]:
    case _0xe4e4[207]:
    case _0xe4e4[208]:
    case _0xe4e4[209]:case _0xe4e4[210]:case _0xe4e4[211]:case _0xe4e4[212]:case _0xe4e4[213]:case _0xe4e4[214]:case _0xe4e4[215]:case _0xe4e4[216]:case _0xe4e4[217]:Parsejar_Comanda_Partida(g,m,l);break
  }
}

function Smiles(b){
  document[_0xe4e4[20]](_0xe4e4[35])[_0xe4e4[33]]=document[_0xe4e4[20]](_0xe4e4[35])[_0xe4e4[33]]+b;document[_0xe4e4[20]](_0xe4e4[35])[_0xe4e4[218]]()
}

function checkKey(d,c){
  var b;if(!d){var d=window[_0xe4e4[219]]}if(d[_0xe4e4[220]]){b=d[_0xe4e4[220]]}else{if(d[_0xe4e4[221]]){b=d[_0xe4e4[221]]}}if(c==0){if(b!=8){return true}}Enviar_Comanda(_0xe4e4[199],_0xe4e4[106],b);placeCaretAtEnd(document[_0xe4e4[20]](_0xe4e4[222]));return true
}

function checkEnter(c,d){
  var b;if(!c){var c=window[_0xe4e4[219]]}if(c[_0xe4e4[220]]){b=c[_0xe4e4[220]]}else{if(c[_0xe4e4[221]]){b=c[_0xe4e4[221]]}}if((b==13)||(b==10)){EnviarText(d);return false}else{return true}
}

function checkEnterConnectar(c){
  var b;if(!c){var c=window[_0xe4e4[219]]}if(c[_0xe4e4[220]]){b=c[_0xe4e4[220]]}else{if(c[_0xe4e4[221]]){b=c[_0xe4e4[221]]}}if((b==13)||(b==10)){Connectar();return false}else{return true}
}

function placeCaretAtEnd(e){
  e[_0xe4e4[218]]();if(typeof window[_0xe4e4[15]]!=_0xe4e4[223]&&typeof document[_0xe4e4[224]]!=_0xe4e4[223]){var c=document[_0xe4e4[224]]();c[_0xe4e4[225]](e);c[_0xe4e4[226]](false);var b=window[_0xe4e4[15]]();b[_0xe4e4[16]]();b[_0xe4e4[227]](c)}else{if(typeof document[_0xe4e4[229]][_0xe4e4[228]]!=_0xe4e4[223]){var d=document[_0xe4e4[229]][_0xe4e4[228]]();d[_0xe4e4[230]](e);d[_0xe4e4[226]](false);d[_0xe4e4[231]]()}}
}

var tipus_conex=1;var socket;var client;var TCPSocket=null;var timer_ape;var socket_ini=1;var connectant=0;function Enviar_Comanda(c,e,d){
  if(tipus_conex==1){if(estat_conex==0){return 0}AfegirLog(_0xe4e4[232]+c+_0xe4e4[98]+e+_0xe4e4[98]+d+_0xe4e4[162]);socket[_0xe4e4[233]](c+_0xe4e4[98]+e+_0xe4e4[98]+d+caracter_final());return 1}if(semafor_enviar){semafor_enviar=0;var b={comanda:c,p1:e,p2:d};pendents_enviar[_0xe4e4[120]](b);if(pendents_enviar[_0xe4e4[59]]){b=pendents_enviar[_0xe4e4[234]]();ajaxRequest_send(b[_0xe4e4[235]],b[_0xe4e4[236]],b[_0xe4e4[237]]);AfegirLog(_0xe4e4[232]+c+_0xe4e4[98]+e+_0xe4e4[98]+d+_0xe4e4[162])}}else{var b={comanda:c,p1:e,p2:d};pendents_enviar[_0xe4e4[120]](b)}
}

function Desconnectar_Conexio(){
  if(tipus_conex==1){if(estat_conex==0){return 0}Enviar_Comanda(_0xe4e4[238],_0xe4e4[0],_0xe4e4[0]);socket[_0xe4e4[39]]();client[_0xe4e4[240]][_0xe4e4[239]]()}else{Enviar_Comanda(_0xe4e4[241],_0xe4e4[0],_0xe4e4[0])}
}

function Connectar_Conexio(b){
  if(tipus_conex==0){Enviar_Comanda(_0xe4e4[242],usuari,_0xe4e4[0]);StartTheTimer()}else{if(socket_ini){socket_ini=0;client=new APE.Client();AfegirLog(_0xe4e4[243])}connectant=1;client[_0xe4e4[244]]();client[_0xe4e4[248]](_0xe4e4[244],function(){clearTimeout(timer_ape);AfegirLog(_0xe4e4[245]);TCPSocket=this[_0xe4e4[240]][_0xe4e4[246]];this[_0xe4e4[240]][_0xe4e4[247]]()});client[_0xe4e4[248]](_0xe4e4[249],function(){AfegirLog(_0xe4e4[250]);socket=new this[_0xe4e4[240]].TCPSocket();socket[_0xe4e4[251]]=function(){connectant=0;AfegirLog(_0xe4e4[252]);AfegirLog(_0xe4e4[253]);if(facebook){param=_0xe4e4[131]+_0xe4e4[87]+rip+_0xe4e4[87]+fid}else{param=_0xe4e4[56]+_0xe4e4[87]+rip}Enviar_Comanda(_0xe4e4[254],_0xe4e4[255],param)};socket[_0xe4e4[256]]=function(c){Llegir_Comanda(c)};socket[_0xe4e4[257]]=function(){AfegirLog(_0xe4e4[258]);alert(_0xe4e4[39])};socket[_0xe4e4[259]]=function(){AfegirLog(_0xe4e4[258]);alert(_0xe4e4[260])};socket[_0xe4e4[36]](_0xe4e4[261],b)});AfegirLog(_0xe4e4[262]);timer_ape=setTimeout(_0xe4e4[263],10000)}
}

function timedMsg(){
  AfegirLog(_0xe4e4[245]);client[_0xe4e4[240]][_0xe4e4[247]]()
}

function StartTheTimer(){
  if(timer==0){timer=1;ajaxRequest_get()}
}

function ajaxRequest_get(){
  var d=_0xe4e4[264];var b=Math[_0xe4e4[266]](Math[_0xe4e4[265]]()*10000);idget=idget+delay/delay_min;idget=Math[_0xe4e4[266]](idget);if(idget>100){idget=100}var c=_0xe4e4[267]+idget+_0xe4e4[268]+b;$[_0xe4e4[270]]({cache:false,scriptCharset:_0xe4e4[269]});$[_0xe4e4[271]]({url:d,data:{id:idget},success:jQuery_getResponse,dataType:_0xe4e4[65],error:jQuery_getResponse_error});if(idget==100){idget=0}
}

function ajaxRequest_send(b,f,e){
  var d=_0xe4e4[272];b=encodeURIComponent(b);f=encodeURIComponent(f);e=encodeURIComponent(e);var c=_0xe4e4[273]+b+_0xe4e4[274]+f+_0xe4e4[275]+e;$[_0xe4e4[81]](d,{comanda:b,p1:f,p2:e},jQuery_getResponse_send)
}

function jQuery_getResponse_error(d,c,b){
  alert(_0xe4e4[276]+c);Desconnectar()
}

function Tractar_Comanda(d){
  var b=Dividir_Comanda(d);try{Parsejar_Comanda(b[0],b[1],b[2])}catch(c){alert(_0xe4e4[277]+comandes[x]+_0xe4e4[278]+c[_0xe4e4[279]])}
}

function jQuery_getResponse(j){
  var g=j[_0xe4e4[122]](_0xe4e4[280],4);var d=parseInt(g[0]);if(d>0){AfegirLog(_0xe4e4[281]+j+_0xe4e4[282]);var f;var c=g[1][_0xe4e4[122]](_0xe4e4[283]);for(var b=0;b<c[_0xe4e4[59]];b=b+1){if(c[b][_0xe4e4[59]]>0){f=Dividir_Comanda(c[b]);try{Parsejar_Comanda(f[0],f[1],f[2])}catch(h){alert(_0xe4e4[277]+c[b]+_0xe4e4[278]+h[_0xe4e4[279]])}}}}if(estat_conex){if(d==0){delay=delay+10}else{if(d>0){if(delay>2500){delay=delay-(d*d*200)}else{if(delay>1000){delay=delay-(d*d*100)}else{delay=delay-(d*d*10)}}}}if(en_partida){if(delay>delay_max_partida){delay=delay_max_partida}}else{if(delay>delay_max){delay=delay_max}}if(delay<delay_min){delay=delay_min}timer=0;timerID=setTimeout(_0xe4e4[284],delay)}
}

function getResponse_get(b){
  jQuery_getResponse(b[_0xe4e4[285]])
}

function jQuery_getResponse_send(e){
  var d=e[_0xe4e4[122]](_0xe4e4[280],4);var c=parseInt(d[0]);if(c>0){}else{alert(_0xe4e4[286])}if(pendents_enviar[_0xe4e4[59]]>0){var b=pendents_enviar[_0xe4e4[234]]();ajaxRequest_send(b[_0xe4e4[235]],b[_0xe4e4[236]],b[_0xe4e4[237]])}else{semafor_enviar=1}
}

function getResponse_send(e){
  var d=e[_0xe4e4[285]][_0xe4e4[122]](_0xe4e4[280],4);var c=parseInt(d[0]);if(c>0){}else{alert(_0xe4e4[286])}if(pendents_enviar[_0xe4e4[59]]>0){var b=pendents_enviar[_0xe4e4[234]]();ajaxRequest_send(b[_0xe4e4[235]],b[_0xe4e4[236]],b[_0xe4e4[237]])}else{semafor_enviar=1}
}

function ini(f,d,e){
  if(f===undefined){f=0}
  if(d===undefined){d=0}
  iphone=d;
  if(f==2){
    ajuda=0;
    fxat=1;
    $(function(){$(_0xe4e4[291])[_0xe4e4[37]]({autoOpen:true,width:400,height:400,minWidth:300,minHeight:300,position:[0,0],modal:false,closeOnEscape:false,closeText:"hide",resizable:false,open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(confirm(_0xe4e4[290])){Desconnectar();return true}else{return false}}})});Connectar(2)
  }else{
    if(f==1){
      ajuda=1;$(function(){$(_0xe4e4[96])[_0xe4e4[37]]({autoOpen:true,width:400,height:400,minWidth:300,minHeight:300,position:[0,0],modal:false,closeOnEscape:false,closeText:"hide",resizable:false,open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(confirm(_0xe4e4[292])){Desconnectar();return true}else{return false}}})});Connectar(1)
    }else{
      var c;var b;
      if(iphone){
        c=[0,0];b=false
      }else{c=_0xe4e4[293];b=true}
      ajuda=0;
      if(f==0){
        $(function(){$(_0xe4e4[295])[_0xe4e4[294]]();menus();$(_0xe4e4[38])[_0xe4e4[37]]({autoOpen:true,position:c,width:470,height:380,resizable:false,closeOnEscape:false,closeText:"hide",open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(estat_conex==0){return false}return true}});$(_0xe4e4[38])[_0xe4e4[37]]()[_0xe4e4[299]](_0xe4e4[298])[_0xe4e4[297]](_0xe4e4[296])[_0xe4e4[121]]();$(_0xe4e4[97])[_0xe4e4[37]]({zIndex:1000,autoOpen:false,position:c,width:150,height:150,resizable:false,closeOnEscape:false,closeText:"hide",beforeclose:function(h,g){if(finestra_carregant_close==0){Desconnectar()}finestra_carregant_close=0;return true}});$(_0xe4e4[74])[_0xe4e4[37]]({autoOpen:false,position:c,width:450,height:450,resizable:false,modal:true,closeOnEscape:false,closeText:"hide",open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(segons_espera>0){return false}return true}});$(_0xe4e4[74])[_0xe4e4[37]]()[_0xe4e4[299]](_0xe4e4[298])[_0xe4e4[297]](_0xe4e4[296])[_0xe4e4[121]]();$(_0xe4e4[78])[_0xe4e4[37]]({autoOpen:false,position:c,width:450,height:450,resizable:false,modal:true,closeOnEscape:false,closeText:"hide",open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(segons_espera>0){return false}return true}});$(_0xe4e4[78])[_0xe4e4[37]]()[_0xe4e4[299]](_0xe4e4[298])[_0xe4e4[297]](_0xe4e4[296])[_0xe4e4[121]]();$(_0xe4e4[300])[_0xe4e4[37]]({zIndex:1000,autoOpen:false,closeOnEscape:false,width:300,height:200,resizable:false,close:function(h,g){if(en_partida){Enviar_Comanda(_0xe4e4[180],usuari,0);en_partida=0}}});$(_0xe4e4[46])[_0xe4e4[37]]({zIndex:2000,autoOpen:false,closeOnEscape:false,width:500,height:300,minHeight:300,minWidth:500,close:function(h,g){if(finestra_previ_partida_close==1){}else{Enviar_Comanda(_0xe4e4[301],_0xe4e4[0],_0xe4e4[0]);Enviar_Comanda(_0xe4e4[180],usuari,0);if(jugar_sol){Desconnectar()}}en_partida=0;finestra_previ_partida_close=0}});if(iphone){amplada=620;document[_0xe4e4[20]](_0xe4e4[302])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43]}else{document[_0xe4e4[20]](_0xe4e4[302])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104];amplada=730}$(_0xe4e4[47])[_0xe4e4[37]]({zIndex:4000,autoOpen:false,closeOnEscape:false,width:amplada,height:550,minWidth:amplada,minHeight:550,resizable:b,beforeclose:function(h,g){if(finestra_partida_tancar){return true}if(estat_partida==20||estat_partida>100||partida_acabada>0){if(jugar_sol){finestra_partida_tancar=1;Desconnectar()}return true}var j;if(jugar_sol){j=_0xe4e4[303]}else{j=_0xe4e4[304]}if(confirm(j)){finestra_partida_tancar=1;if(jugar_sol){Desconnectar()}return true}else{return false}},close:function(h,g){en_partida=0;Enviar_Comanda(_0xe4e4[301],_0xe4e4[0],_0xe4e4[0]);Enviar_Comanda(_0xe4e4[180],usuari,0)},focus:function(h,g){if($(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[305])}if($(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[305])}if($(_0xe4e4[306])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[306])[_0xe4e4[37]](_0xe4e4[305])}}});$(_0xe4e4[49])[_0xe4e4[37]]({zIndex:10000,autoOpen:false,closeOnEscape:false,width:420,height:135,resizable:false,open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(finestra_pal_triomf_tancar){return true}return false},close:function(h,g){finestra_pal_triomf_tancar=0}});$(_0xe4e4[48])[_0xe4e4[37]]({zIndex:10000,autoOpen:false,closeOnEscape:false,width:250,height:110,resizable:false,open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(finestra_contrar_tancar){return true}return false},close:function(h,g){finestra_contrar_tancar=0}});$(_0xe4e4[45])[_0xe4e4[37]]({modal:false,autoOpen:false,closeOnEscape:false,position:c,width:600,height:400,minWidth:500,minHeight:400,resizable:b,beforeclose:function(h,g){if(finestra_principal_tancar){return true}if(confirm(_0xe4e4[307])){Desconnectar();return true}else{return false}return false},close:function(h,g){finestra_principal_tancar=0},focus:function(h,g){if($(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[305])}if($(_0xe4e4[47])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[47])[_0xe4e4[37]](_0xe4e4[305])}if($(_0xe4e4[300])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[300])[_0xe4e4[37]](_0xe4e4[305])}}})})
      }else{
        partida_log=1;manual=0;if(f==3){manual=1;$(_0xe4e4[306])[_0xe4e4[37]]({modal:false,autoOpen:false,closeOnEscape:false,width:200,height:200,resizable:true,beforeclose:function(h,g){return true},close:function(h,g){}})}$(function(){$(_0xe4e4[47])[_0xe4e4[37]]({zIndex:4000,autoOpen:false,closeOnEscape:false,width:730,height:550,minWidth:730,minHeight:550,resizable:b,open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){return true},close:function(h,g){en_partida=0},focus:function(h,g){if($(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[305])}if($(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[305])}if($(_0xe4e4[306])[_0xe4e4[37]](_0xe4e4[44])){$(_0xe4e4[306])[_0xe4e4[37]](_0xe4e4[305])}}});if(iphone){$(_0xe4e4[47])[_0xe4e4[37]]()[_0xe4e4[299]](_0xe4e4[298])[_0xe4e4[297]](_0xe4e4[296])[_0xe4e4[121]]()}$(_0xe4e4[49])[_0xe4e4[37]]({modal:true,autoOpen:false,closeOnEscape:false,width:500,height:150,resizable:false,open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(finestra_pal_triomf_tancar){return true}return false},close:function(h,g){finestra_pal_triomf_tancar=0}});$(_0xe4e4[48])[_0xe4e4[37]]({zIndex:1000,modal:true,autoOpen:false,closeOnEscape:false,width:300,height:150,resizable:false,open:function(h,g){$(this)[_0xe4e4[289]]()[_0xe4e4[288]]()[_0xe4e4[288]](_0xe4e4[287])["hide"]()},beforeclose:function(h,g){if(finestra_contrar_tancar){return true}return false},close:function(h,g){finestra_contrar_tancar=0}})});if(!manual){ajaxRequest_partida(e)}else{ajaxRequest_manual(e)}
      }
    }
  }
}

function goodbye(b){
  if(estat_conex==0){return}if(!b){b=window[_0xe4e4[219]]}b[_0xe4e4[308]]=true;b[_0xe4e4[309]]=_0xe4e4[310];if(b[_0xe4e4[311]]){b[_0xe4e4[311]]();b[_0xe4e4[312]]()}
}

window[_0xe4e4[313]]=goodbye;

function adeu(){
  Desconnectar_Conexio()
}

function Iniciallitzar_Cartes_Posibles(){
  var b;for(b=0;b<12;b++){posibles[b]=1}
}

function JugadorToEquip(b){
  if((b==1)||(b==3)){return 1}if((b==2)||(b==4)){return 2}return -1
}

function Comparar_Numeros_Cartes(c,b){
  if(c==b){return 0}if(c==9){return 1}if(b==9){return -1}if(c==1){return 1}if(b==1){return -1}if(c>b){return 1}return -1
}

function Incrementar_Jugador(c,b){
  var d;d=c+b;if(d>4){d=d-4}if(d<1){d=d+4}return d
}

function Guanyador_Basa(f,l){
  var m;var h;var e;var k;var j;var g;var d;var c;var b;h=f[_0xe4e4[314]];k=h;b=carta2numpal(f[_0xe4e4[315]][h-1]);g=b[0];j=b[1];for(m=1;m<4;m++){h=Incrementar_Jugador(h,1);if(f[_0xe4e4[315]][h-1]==-1){return k}b=carta2numpal(f[_0xe4e4[315]][h-1]);c=b[0];d=b[1];if(d==j){e=Comparar_Numeros_Cartes(c,g);if(e==1){g=c;j=d;k=h}}else{if(d==l){g=c;j=d;k=h}}}f[_0xe4e4[316]]=k;return k
}

function MarcarPetitaPal(g,f,c){
  var b;var e,d;for(b=f[_0xe4e4[59]]-1;b>=0;b--){carta=carta2numpal(f[b]);e=carta[0];d=carta[1];if(d==g){c[b]=1;return 1}}return 0
}

function MarcarPuntsPal(g,f,c){
  var b;var e;var d;for(b=0;b<f[_0xe4e4[59]];b++){carta=carta2numpal(f[b]);e=carta[0];d=carta[1];if(d==g){if((e>=9)||(e==1)){c[b]=1}}}return 0
}

function MarcarTotesPal(g,f,c){
  var b;var e;var d;for(b=0;b<f[_0xe4e4[59]];b++){carta=carta2numpal(f[b]);e=carta[0];d=carta[1];if(d==g){c[b]=1}}return 0
}

function MarcarGuanyadoresPal(d,c,g,e){
  var b;var f,h;for(b=0;b<g[_0xe4e4[59]];b++){carta=carta2numpal(g[b]);f=carta[0];h=carta[1];if(h==d){if(1==Comparar_Numeros_Cartes(f,c)){e[b]=1}}}return 0
}

function Comprovar_Cartes_Obligada(k,c,u,f,r){
  var t;var d;var s;var q;var j;var h;var p;var m;var o;var l;var e,b;var g;if(c[_0xe4e4[59]]==0){return 0}for(t=0;t<12;t++){r[t]=0}d=0;for(t=0;t<4;t++){if(k[_0xe4e4[315]][t]!=-1){d++}}if(d==0){for(t=0;t<12;t++){r[t]=1}return 1}g=carta2numpal(k[_0xe4e4[315]][k[_0xe4e4[314]]-1]);q=g[0];s=g[1];o=Guanyador_Basa(k,u);g=carta2numpal(k[_0xe4e4[315]][o-1]);h=g[0];j=g[1];p=JugadorToEquip(o);m=JugadorToEquip(f);l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==s){l=true}}if(l==true){if(m==p){MarcarPetitaPal(s,c,r);MarcarPuntsPal(s,c,r);if(j==s){MarcarGuanyadoresPal(s,h,c,r)}return 2}else{if(j!=s){MarcarPetitaPal(s,c,r);return 3}}l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==s){if(1==Comparar_Numeros_Cartes(b,h)){l=true}}}if(l==true){MarcarGuanyadoresPal(s,h,c,r);return 4}MarcarPetitaPal(s,c,r);return 5}if(m==p){for(t=0;t<4;t++){if(t!=s){MarcarPetitaPal(t,c,r);MarcarPuntsPal(t,c,r);if(t==u){if(j!=u){MarcarTotesPal(t,c,r)}else{MarcarGuanyadoresPal(j,h,c,r)}}}}return 6}l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==u){l=true}}if(l==false){for(t=0;t<4;t++){MarcarPetitaPal(t,c,r);if(k[_0xe4e4[317]]==1){MarcarPuntsPal(t,c,r)}}return 7}if(j!=u){MarcarTotesPal(u,c,r);return 8}l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==j){if(1==Comparar_Numeros_Cartes(b,h)){l=true}}}if(l==true){MarcarGuanyadoresPal(j,h,c,r);return 9}for(t=0;t<4;t++){MarcarPetitaPal(t,c,r);if(k[_0xe4e4[317]]==1){MarcarPuntsPal(t,c,r)}}return 10
}

function Comprovar_Cartes_Lliure(k,c,u,f,r){
  var t;var d;var s;var q;var j;var h;var p;var m;var o;var l;var e,b;var g;if(c[_0xe4e4[59]]==0){return 0}for(t=0;t<12;t++){r[t]=0}d=0;for(t=0;t<4;t++){if(k[_0xe4e4[315]][t]!=-1){d++}}if(d==0){for(t=0;t<12;t++){r[t]=1}return 1}g=carta2numpal(k[_0xe4e4[315]][k[_0xe4e4[314]]-1]);q=g[0];s=g[1];o=Guanyador_Basa(k,u);g=carta2numpal(k[_0xe4e4[315]][o-1]);h=g[0];j=g[1];p=JugadorToEquip(o);m=JugadorToEquip(f);l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==s){l=true}}if(l==true){if((m==p)||(j!=s)){MarcarTotesPal(s,c,r);if(m==p){return 2}else{return 3}}l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==s){if(1==Comparar_Numeros_Cartes(b,h)){l=true}}}if(l==true){MarcarGuanyadoresPal(j,h,c,r);return 4}MarcarTotesPal(s,c,r);return 5}if(m==p){for(t=0;t<c[_0xe4e4[59]];t++){r[t]=1}return 6}l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==u){l=true}}if(l==false){for(t=0;t<c[_0xe4e4[59]];t++){r[t]=1}return 7}if(j!=u){MarcarTotesPal(u,c,r);return 8}l=false;for(t=0;t<c[_0xe4e4[59]];t++){g=carta2numpal(c[t]);b=g[0];e=g[1];if(e==j){if(1==Comparar_Numeros_Cartes(b,h)){l=true}}}if(l==true){MarcarGuanyadoresPal(j,h,c,r);return 9}for(t=0;t<c[_0xe4e4[59]];t++){r[t]=1}return 10
}

function Comprovar_Cartes(b,f,c,e,d,g){
  switch(g){
    case 0:return Comprovar_Cartes_Lliure(b,f,c,e,d);
    case 1:return Comprovar_Cartes_Obligada(b,f,c,e,d)
  }
  return -1
}

var estat_partida=0;
var torn_jugador=0;
var partida_acabada=0;
var joc_cartes=new Array();
var posibles=new Array();
var carta_sel=0;
var finestra_pal_triomf_tancar=0;
var finestra_contrar_tancar=0;
var finestra_contrar_tipus=-1;
var finestra_partida_tancar=0;
var n_ma=0;
var partida_pal=-1;
var partida_pal_qui=-1;
var partida_pal_pasat=-1;
var partida_tipus;
var partida_punts;
var HTML_jug1;
var HTML_jug_carta=new Array();
var HTML_jug_nom=new Array();


function Ini_HTMLs(){}

var basa={jug_inicial:0,cartes:Array(),n_cartes:0,jug_guanyador:0};
function pal2text(b){
  switch(b){case 0:return _0xe4e4[318];case 1:return _0xe4e4[319];case 2:return _0xe4e4[320];case 3:return _0xe4e4[321];case 4:return _0xe4e4[322]}return false
}

function pal2textsencer(b){
  switch(b){case 0:return _0xe4e4[323];case 1:return _0xe4e4[324];case 2:return _0xe4e4[325];case 3:return _0xe4e4[326];case 4:return _0xe4e4[327]}return false
}

function carta2numpal(b){
  var c=b%12+1;var d=(b-b%12)/12;return Array(c,d)
}

function CartaToURL(b){
  var c,d,f,e;c=carta2numpal(b);d=c[0];f=c[1];e=pal2text(c[1]);if(d<10){url=_0xe4e4[328]+e+_0xe4e4[57]+d+_0xe4e4[329]}else{url=_0xe4e4[328]+e+d+_0xe4e4[329]}return url
}

function Actualitzar_Cartes(){
  Display=document[_0xe4e4[20]](_0xe4e4[330]);Display[_0xe4e4[21]]=_0xe4e4[0];for(var b=0;b<joc_cartes[_0xe4e4[59]];b++){carta=carta2numpal(joc_cartes[b]);num=carta[0];pal=carta[1];url=CartaToURL(joc_cartes[b]);i=b+1;if(carta_sel==i){txt=_0xe4e4[331]+i+_0xe4e4[332]+url+_0xe4e4[333]+i+_0xe4e4[334]+i+_0xe4e4[335]}else{txt=_0xe4e4[331]+i+_0xe4e4[336]+url+_0xe4e4[333]+i+_0xe4e4[334]+i+_0xe4e4[335]}Display[_0xe4e4[21]]=Display[_0xe4e4[21]]+txt}
}

function Agafar_Cartes2(o,m){
  var g=o[_0xe4e4[122]]("#",12);var f;var l;var k;var c;var h;var b;var d;var j;var e=new Array();for(var p=0;p<12;p++){e[p]=parseInt(g[p])}joc_cartes_tots[m-1]=e
}

function Agafar_Cartes(l){
  var f=l[_0xe4e4[122]]("#",12);var e;var k;var j;var c;var g;var b;var d;var h;for(var m=0;m<12;m++){joc_cartes[m]=parseInt(f[m])}Actualitzar_Cartes()
}

function Cantar_Triomf(b){
  if(partida_log){return}finestra_pal_triomf_tancar=0;$(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[36]);$(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[339])[_0xe4e4[7]]({my:_0xe4e4[293],at:_0xe4e4[293],of:_0xe4e4[337],offset:_0xe4e4[338]});if(b){document[_0xe4e4[20]](_0xe4e4[340])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43]}
}

function FerPalTriomf(b){
  if(partida_log){return}finestra_pal_triomf_tancar=1;$(_0xe4e4[49])[_0xe4e4[37]](_0xe4e4[39]);Enviar_Comanda(_0xe4e4[204],b,_0xe4e4[0]);document[_0xe4e4[20]](_0xe4e4[340])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[341]
}

function Contrar(e){
  if(partida_log){return}var c;var b;switch(e){case 0:c=_0xe4e4[342];b=_0xe4e4[343];break;case 1:c=_0xe4e4[344];b=_0xe4e4[345];break;case 2:c=_0xe4e4[346];b=_0xe4e4[346];break;default:return}finestra_contrar_tipus=e;var d=document[_0xe4e4[20]](_0xe4e4[347]);d[_0xe4e4[21]]=_0xe4e4[348]+c+_0xe4e4[349];finestra_pal_triomf_tancar=0;$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[67],_0xe4e4[350],b);$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[36]);$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[339])[_0xe4e4[7]]({my:_0xe4e4[293],at:_0xe4e4[293],of:_0xe4e4[337],offset:_0xe4e4[338]})
}

function FerContro(c){
  if(partida_log){return}var b;finestra_contrar_tancar=1;$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[39]);switch(finestra_contrar_tipus){case 0:b=_0xe4e4[205];break;case 1:b=_0xe4e4[206];break;case 2:b=_0xe4e4[207];break;default:return}finestra_contrar_tipus=-1;Enviar_Comanda(b,c,pos_partida)
}

function SelCarta(b){
  if(partida_log){return}if(estat_partida!=pos_partida){return}if(posibles[b-1]==0){return}if(carta_sel==b||iphone==1){TirarCarta(b);return}carta_sel=b;Actualitzar_Cartes()
}

function TirarCarta(b){
  if(partida_log){return}if(estat_partida!=pos_partida){return}if(posibles[b-1]==0){return}carta_sel=0;var c;b=b-1;c=joc_cartes[b];Enviar_Comanda(_0xe4e4[209],c,_0xe4e4[56]);joc_cartes[_0xe4e4[132]](b,1);Estat_Partida(0);Actualitzar_Cartes()
}

function Pos2Tauler(c){
  var b;var d;b=c-pos_partida;if(b<0){b=b+4}d=((b)%4)+1;return d
}

function Ficar_Carta_Dat(h,e){
  var c;var g;var j;var d;var b;d=Pos2Tauler(e);var f=document[_0xe4e4[20]](_0xe4e4[351]+d+_0xe4e4[352]);f[_0xe4e4[21]]=_0xe4e4[0];if(h>=0){b=carta2numpal(h);g=b[0];j=b[1];url=CartaToURL(h);c=_0xe4e4[353]+url+_0xe4e4[354];f[_0xe4e4[21]]=c}
}

function Teure_Cartes_Dats(){
  for(var b=1;b<=4;b++){Ficar_Carta_Dat(-1,b)}
}

function Inicialitzar_Basa(c){
  var b;basa[_0xe4e4[314]]=c;for(b=0;b<4;b++){basa[_0xe4e4[315]][b]=-1}basa[_0xe4e4[316]]=0;basa[_0xe4e4[317]]=0
}

function Afegir_Carta_Basa(b,c){
  if(basa[_0xe4e4[317]]==0){basa[_0xe4e4[314]]=c}basa[_0xe4e4[315]][c-1]=b;basa[_0xe4e4[317]]++;return true
}

function Pos_Carta(d,c){
  for(var b=0;b<d[_0xe4e4[59]];b++){if(d[b]==c){return b}}return -1
}

function Carta_Rebuda(d,g){
  var c;var e;var b;var f;var h;c=g[_0xe4e4[122]]("#",3);e=parseInt(c[0]);b=parseInt(c[1]);f=parseInt(c[2]);d=parseInt(d);if(partida_log){if(e==pos_partida){i=Pos_Carta(joc_cartes,d);if(i>=0){joc_cartes[_0xe4e4[132]](i,1);Actualitzar_Cartes()}}i=Pos_Carta(joc_cartes_tots[e-1],d);if(i>=0){joc_cartes_tots[e-1][_0xe4e4[132]](i,1)}}Afegir_Carta_Basa(d,e);Ficar_Carta_Dat(d,e);if(f==1){torn_jugador=b;Estat_Partida(5)}else{estat_partida=parseInt(b);torn_jugador=estat_partida;Estat_Partida(estat_partida);if(torn_jugador==pos_partida){h=Comprovar_Cartes(basa,joc_cartes,partida_pal,pos_partida,posibles,partida_tipus)}}
}

function Resultat_Dat(d,c){
  var b;var f;b=d[_0xe4e4[122]](_0xe4e4[87],2);f=c[_0xe4e4[122]](_0xe4e4[87],2);AfegirTextXatPartida(_0xe4e4[355]+b[0]+_0xe4e4[356]+b[1]+_0xe4e4[162]);AfegirTextXatPartida(_0xe4e4[357]+f[0]+_0xe4e4[356]+f[1]+_0xe4e4[162]);var e=document[_0xe4e4[20]](_0xe4e4[358]);e[_0xe4e4[21]]=f[0];e=document[_0xe4e4[20]](_0xe4e4[359]);e[_0xe4e4[21]]=f[1]
}

function Recollir_Basa(){
  if(partida_log){return}if(estat_partida==5){Enviar_Comanda(_0xe4e4[201],pos_partida,_0xe4e4[0]);Estat_Partida(6);Teure_Cartes_Dats()}else{}
}

function Marcar_Jugador(f,c){
  var d;var e;for(var b=1;b<=4;b++){d=Pos2Tauler(b);e=document[_0xe4e4[20]](_0xe4e4[351]+d+_0xe4e4[360]);e[_0xe4e4[42]][_0xe4e4[361]]=_0xe4e4[362]}if(c<1||c>4){return 0}if(f==1){d=Pos2Tauler(c);e=document[_0xe4e4[20]](_0xe4e4[351]+d+_0xe4e4[360]);e[_0xe4e4[42]][_0xe4e4[361]]=_0xe4e4[363]}
}

function Estat_Partida(b){
  var c;estat_partida=b;if(estat_partida>=1&&estat_partida<=5){Marcar_Jugador(1,torn_jugador)}if(estat_partida==6){Marcar_Jugador(1,Guanyador_Basa(basa,partida_pal))}if(pos_partida==estat_partida&&partida_log==0){c=_0xe4e4[364]}else{switch(estat_partida){case -2:c=_0xe4e4[0];break;case -1:c=_0xe4e4[365];break;case 0:c=_0xe4e4[366];break;case 1:c=_0xe4e4[367]+jugadors_partida[0][0]+_0xe4e4[368];break;case 2:c=_0xe4e4[367]+jugadors_partida[1][0]+_0xe4e4[368];break;case 3:c=_0xe4e4[367]+jugadors_partida[2][0]+_0xe4e4[368];break;case 4:c=_0xe4e4[367]+jugadors_partida[3][0]+_0xe4e4[368];break;case 5:c=_0xe4e4[369];break;case 6:c=_0xe4e4[370];break;case 7:c=_0xe4e4[371];break;case 8:c=_0xe4e4[372];break;case 9:c=_0xe4e4[373];break;case 10:c=_0xe4e4[374];break;case 11:c=_0xe4e4[375];break;case 20:switch(partida_acabada){case 0:c=_0xe4e4[376];break;case 1:c=_0xe4e4[377];break;case 2:c=_0xe4e4[378];break;case 3:c=_0xe4e4[379];break;default:c=_0xe4e4[380];break}break;default:if(estat_partida>100){c=_0xe4e4[381]}else{c=_0xe4e4[382]}break}}var d=document[_0xe4e4[20]](_0xe4e4[383]);d[_0xe4e4[21]]=c
}

function Omplir_Noms_Jugadors(){
  var c;var d;for(var b=0;b<4;b++){c=Pos2Tauler(b+1);d=document[_0xe4e4[20]](_0xe4e4[351]+c+_0xe4e4[360]);d[_0xe4e4[21]]=jugadors_partida[b][0];d=document[_0xe4e4[20]](_0xe4e4[384]+(b+1));if(partida_log==0){d[_0xe4e4[21]]=jugadors_partida[b][0]}else{d[_0xe4e4[21]]=_0xe4e4[385]+(b+1)+_0xe4e4[386]+jugadors_partida[b][0]+_0xe4e4[160]}}
}

function Inicialitzar_Partida(e,g,b,c){
  var d;var f;partida_tipus=parseInt(g);partida_punts=parseInt(b);switch(partida_tipus){case 0:f=_0xe4e4[387];break;case 1:f=_0xe4e4[388];break}d=document[_0xe4e4[20]](_0xe4e4[389]);d[_0xe4e4[21]]=f+_0xe4e4[390]+partida_punts;Reset_Info_Jugadors()
}

function Comensar_Partida(f,e){
  var d;var c;var b;b=e[_0xe4e4[122]]("#",4);Inicialitzar_Partida(b[0],b[1],b[2],b[3]);if(partida_log){pos_partida=1}else{pos_partida=parseInt(f);finestra_previ_partida_close=1;$(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[39])}Omplir_Noms_Jugadors();estat_partida=1;en_partida=1;joc_cartes=new Array();n_ma=0;carta_sel=0;Teure_Cartes_Dats();Estat_Partida(-1);Set_Imatge_Pal(-1);Set_Imatge_Contro(-1);Set_Imatge_Pasat(-1);d=document[_0xe4e4[20]](_0xe4e4[26]);d[_0xe4e4[21]]=_0xe4e4[0];if(partida_log==0){d=document[_0xe4e4[20]](_0xe4e4[110]);if(d!=null){d[_0xe4e4[33]]=_0xe4e4[0]}}$(_0xe4e4[47])[_0xe4e4[37]](_0xe4e4[36]);if(partida_log==0){Enviar_Comanda(_0xe4e4[201],f,_0xe4e4[0])}
}

function Tancar_Finestra_Partida(){
  en_partida=0;$(_0xe4e4[47])[_0xe4e4[37]](_0xe4e4[39])
}

function Set_Imatge_Pal(d){
  var c=document[_0xe4e4[20]](_0xe4e4[391]);var b;if(d==-1){c[_0xe4e4[21]]=_0xe4e4[0];c[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43];return}switch(d){case 0:b=_0xe4e4[392];break;case 1:b=_0xe4e4[393];break;case 2:b=_0xe4e4[394];break;case 3:b=_0xe4e4[395];break;case 4:b=_0xe4e4[396];break}url=_0xe4e4[397]+b+_0xe4e4[329];c[_0xe4e4[21]]=_0xe4e4[398]+url+_0xe4e4[399];c[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104]
}

function Set_Imatge_Contro(c){
  var d=document[_0xe4e4[20]](_0xe4e4[400]);var b;if(c==-1){d[_0xe4e4[21]]=_0xe4e4[0];d[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43];return}switch(c){case 1:b=2;break;case 2:b=4;break;case 3:b=8;break}d[_0xe4e4[21]]=_0xe4e4[401]+b;d[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104]
}

function Set_Imatge_Pasat(b){
  var c=document[_0xe4e4[20]](_0xe4e4[402]);if(b==-1||b==0){c[_0xe4e4[21]]=_0xe4e4[0];c[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43];return}if(b==1){url=_0xe4e4[403];c[_0xe4e4[21]]=_0xe4e4[398]+url+_0xe4e4[399];c[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104]}
}

function Reset_Info_Jugadors(){
  var c;var b;c=document[_0xe4e4[20]](_0xe4e4[404]);c[_0xe4e4[21]]=_0xe4e4[405];for(b=1;b<=4;b++){c=document[_0xe4e4[20]](_0xe4e4[406]+b);c[_0xe4e4[21]]=_0xe4e4[0]}
}

function Set_Info_Pal(){
  var b;var c;if(partida_pal_pasat){c=_0xe4e4[407]}else{c=_0xe4e4[408]}b=document[_0xe4e4[20]](_0xe4e4[406]+partida_pal_qui);b[_0xe4e4[21]]=c;switch(partida_pal){case 0:c=_0xe4e4[409];break;case 1:c=_0xe4e4[410];break;case 2:c=_0xe4e4[411];break;case 3:c=_0xe4e4[412];break;case 4:c=_0xe4e4[413];break;case -1:c=_0xe4e4[414];break}b=document[_0xe4e4[20]](_0xe4e4[415]);b[_0xe4e4[21]]=c
}

function Reset_Info(){
  var b;b=document[_0xe4e4[20]](_0xe4e4[416]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[358]);b[_0xe4e4[21]]=_0xe4e4[57];b=document[_0xe4e4[20]](_0xe4e4[359]);b[_0xe4e4[21]]=_0xe4e4[57];b=document[_0xe4e4[20]](_0xe4e4[417]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[418]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[419]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[420]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[415]);b[_0xe4e4[21]]=_0xe4e4[0]
}

function Info_Contro(h,g){
  var f;var e;var d,c,j,b;d=parseInt(h);switch(d){case 1:b=_0xe4e4[421];j=_0xe4e4[422];break;case 2:b=_0xe4e4[423];j=_0xe4e4[424];break;case 3:b=_0xe4e4[425];j=_0xe4e4[426];break}f=document[_0xe4e4[20]](_0xe4e4[404]);f[_0xe4e4[21]]=b;e=g[_0xe4e4[122]]("#",4);for(c=0;c<4;c++){e[c]=parseInt(e[c])}for(c=0;c<4;c++){if(e[c]){f=document[_0xe4e4[20]](_0xe4e4[406]+(c+1));f[_0xe4e4[21]]=f[_0xe4e4[21]]+_0xe4e4[98]+j}}
}

function Fer_Dialog_Info(e,b,d){
  var c;$(_0xe4e4[306])[_0xe4e4[37]](_0xe4e4[67],_0xe4e4[350],b);c=document[_0xe4e4[20]](_0xe4e4[427]);c[_0xe4e4[21]]=d;if($(_0xe4e4[306])[_0xe4e4[37]](_0xe4e4[44])){}else{$(_0xe4e4[306])[_0xe4e4[37]](_0xe4e4[36])}
}

function Parsejar_Comanda_Partida(g,m,k){
  var f;var j;var c;switch(g){case _0xe4e4[184]:Rebre_Llistat_Usuaris_Partida(m,k);break;case _0xe4e4[200]:Comensar_Partida(m,k);break;case _0xe4e4[202]:pal_pasat=0;Set_Imatge_Pal(-1);Set_Imatge_Contro(-1);Set_Imatge_Pasat(-1);if(partida_log){Agafar_Cartes2(m,parseInt(k[2]));if(parseInt(k[2])==pos_partida){Agafar_Cartes(m);n_ma++;c=document[_0xe4e4[20]](_0xe4e4[416]);c[_0xe4e4[21]]=n_ma}}else{n_ma++;c=document[_0xe4e4[20]](_0xe4e4[416]);c[_0xe4e4[21]]=n_ma;Agafar_Cartes(m)}f=parseInt(k);torn_jugador=f;partida_pal_qui=f;partida_pal_pasat=0;Estat_Partida(7);if(pos_partida==f){Cantar_Triomf(0)}break;case _0xe4e4[203]:partida_pal_pasat=1;Set_Imatge_Pasat(1);f=parseInt(m);partida_pal_qui=f;AfegirTextXatPartida(_0xe4e4[428]);Estat_Partida(8);if(pos_partida==f){Cantar_Triomf(1)}break;case _0xe4e4[204]:partida_pal=parseInt(m);Set_Imatge_Pal(partida_pal);Set_Info_Pal();AfegirTextXatPartida(_0xe4e4[429]+pal2textsencer(partida_pal)+_0xe4e4[162]);Estat_Partida(9);f=parseInt(k);if((f==1&&(pos_partida==1||pos_partida==3))||(f==2&&(pos_partida==2||pos_partida==4))){Contrar(0)}break;case _0xe4e4[205]:case _0xe4e4[206]:case _0xe4e4[207]:n=parseInt(m);j=parseInt(k);if(n==0){torn_jugador=j;Inicialitzar_Basa(torn_jugador);Iniciallitzar_Cartes_Posibles();Estat_Partida(torn_jugador)}else{switch(g){case _0xe4e4[205]:Set_Imatge_Contro(1);Estat_Partida(10);AfegirTextXatPartida(_0xe4e4[430]);a=1;break;case _0xe4e4[206]:Set_Imatge_Contro(2);Estat_Partida(11);AfegirTextXatPartida(_0xe4e4[431]);a=2;break;case _0xe4e4[207]:Set_Imatge_Contro(3);torn_jugador=j;Inicialitzar_Basa(torn_jugador);Iniciallitzar_Cartes_Posibles();Estat_Partida(torn_jugador);AfegirTextXatPartida(_0xe4e4[432]);a=-1;break}if((j==1&&(pos_partida==1||pos_partida==3))||(j==2&&(pos_partida==2||pos_partida==4))){if(a>=0){Contrar(a)}}}break;case _0xe4e4[209]:Carta_Rebuda(m,k);break;case _0xe4e4[201]:if(partida_log){if(parseInt(m)==pos_partida){Teure_Cartes_Dats()}}break;case _0xe4e4[208]:f=parseInt(m);Inicialitzar_Basa(f);Iniciallitzar_Cartes_Posibles();Estat_Partida(f);break;case _0xe4e4[212]:if(estat_partida<100){estat_partida=estat_partida+100}Estat_Partida(estat_partida);break;case _0xe4e4[210]:break;case _0xe4e4[211]:break;case _0xe4e4[213]:partida_acabada=parseInt(m);Estat_Partida(20);var d=k[_0xe4e4[122]](_0xe4e4[87],2);var e;if(partida_acabada==1||partida_acabada==2){if((partida_acabada==1&&(pos_partida==1||pos_partida==3))||(partida_acabada==2&&(pos_partida==2||pos_partida==4))){e=1}else{e=0}FB_Compartir_Final_Partida(e,d[0],d[1])}break;case _0xe4e4[214]:Estat_Partida(5);torn_jugador=j;AfegirTextXatPartida(_0xe4e4[433]);break;case _0xe4e4[215]:break;case _0xe4e4[216]:if($(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[44])===true){finestra_contrar_tancar=1;$(_0xe4e4[48])[_0xe4e4[37]](_0xe4e4[39])}Info_Contro(m,k);break;case _0xe4e4[217]:Resultat_Dat(m,k);Reset_Info_Jugadors();break;case _0xe4e4[111]:k=FerLinks(k);k=Comprovar_Smyles(k);AfegirTextXatPartida(_0xe4e4[107]+m+_0xe4e4[108]+k+_0xe4e4[109]);break;case _0xe4e4[434]:var l;var h;var b=k[_0xe4e4[122]]("#",2);if(b[_0xe4e4[59]]==1){l=_0xe4e4[86];h=b[0]}else{l=b[0];h=b[1]}Fer_Dialog_Info(m,l,h);break}
}

var pos_partida;
var jugadors_partida=new Array();
var finestra_previ_partida_close=0;
var carta_alsada=90;
var carta_amplada=60;
var td=null;
var td_pos=0;
var estat_partida=0;
var en_partida=0;

function highlight(b){
  alert(_0xe4e4[435]);if(td){td[_0xe4e4[436]]=_0xe4e4[43]}b[_0xe4e4[437]][0][_0xe4e4[436]]=_0xe4e4[231];td=b[_0xe4e4[437]][0];td_pos=parseInt(b[_0xe4e4[437]][1][_0xe4e4[21]]);AfegirTextXat(_0xe4e4[438]+b[_0xe4e4[437]][1][_0xe4e4[21]]+_0xe4e4[109])
}

function Get_Jugador_Seleccionat(){
  return td_pos
}

function CP_Comensar_Partida(){
  Enviar_Comanda(_0xe4e4[439],_0xe4e4[0],_0xe4e4[0])
}

function CP_Moure(b){
  var c=Get_Jugador_Seleccionat();Enviar_Comanda(_0xe4e4[440],c,b)
}

function CP_FerFora(){
  var b=Get_Jugador_Seleccionat();Enviar_Comanda(_0xe4e4[441],b,_0xe4e4[0])
}

function Tancar_Finestra_Previ_Partida(){
  en_partida=0;$(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[39])
}

function JoinPartidaId(c){
  if(en_partida==1){return}else{en_partida=1}Mostrar_Controls_Creador(0);jugadors_partida[0]=null;jugadors_partida[1]=null;jugadors_partida[2]=null;jugadors_partida[3]=null;var b=document[_0xe4e4[20]](_0xe4e4[442]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[112]);b[_0xe4e4[33]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[25]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[53]);b[_0xe4e4[54]]=false;Enviar_Comanda(_0xe4e4[180],usuari,1);Enviar_Comanda(_0xe4e4[443],c,_0xe4e4[0]);estat_partida=0;if(jugar_sol){finestra_carregant_close=1;$(_0xe4e4[97])[_0xe4e4[37]](_0xe4e4[39])}$(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[36])
}

function JoinPartida(e){
  if(en_partida==1){return}var d=document[_0xe4e4[20]](e);var c=d[_0xe4e4[83]];if(c<0){return}var b=llista_partides[c][5];JoinPartidaId(b)
}

function ImatgeAbandona(c){
  var b=_0xe4e4[444];switch(c){case 0:b=b+_0xe4e4[445];break;case 1:b=b+_0xe4e4[446];break;case 2:b=b+_0xe4e4[447];break;case 3:b=b+_0xe4e4[448];break;default:return _0xe4e4[0]}return _0xe4e4[398]+b+_0xe4e4[399]
}

function TextTipus(b){
  switch(b){case 2:return _0xe4e4[449];case 3:return _0xe4e4[450]}return _0xe4e4[0]
}

function TextAjuda(b){
  switch(b){case 0:return _0xe4e4[451];case 1:return _0xe4e4[452];case 2:return _0xe4e4[453]}return _0xe4e4[0]
}

function TextPreparat(c,b){
  if(b==_0xe4e4[454]){return _0xe4e4[422]}if(c==1){return _0xe4e4[455]}return _0xe4e4[0]
}

function Llistat_Usuaris_Partida_Set_Info(b){
  var g=_0xe4e4[456];var l;var c;var l;var m;var k;var j;var f;var h;var e;for(var o=0;o<5;o++){switch(o){case 0:l=1;break;case 1:l=3;break;case 2:l=-1;break;case 3:l=2;break;case 4:l=4;break}if(l==-1){g=g+_0xe4e4[457]}else{e=b[l-1];if(e==null){g=g+_0xe4e4[458]+l+_0xe4e4[459]}else{c=e[0];l=e[1];m=e[2];k=e[3];j=e[4];f=e[5];h=e[6];g=g+_0xe4e4[460]+ImatgeAbandona(f)+c+_0xe4e4[461];g=g+_0xe4e4[462]+l+_0xe4e4[461];g=g+_0xe4e4[462]+TextTipus(m)+_0xe4e4[461];g=g+_0xe4e4[462]+TextAjuda(k)+_0xe4e4[461];g=g+_0xe4e4[462]+TextPreparat(j,h)+_0xe4e4[461];g=g+_0xe4e4[463];if((c==usuari)&&(h==_0xe4e4[454])){Mostrar_Controls_Creador(1)}}}}var d=document[_0xe4e4[20]](_0xe4e4[442]);d[_0xe4e4[21]]=g
}

function Set_Creador_Partida(c,b){
  c=parseInt(c);b=parseInt(b);if(jugadors_partida[0]){jugadors_partida[0][6]=_0xe4e4[0]}if(jugadors_partida[1]){jugadors_partida[1][6]=_0xe4e4[0]}if(jugadors_partida[2]){jugadors_partida[2][6]=_0xe4e4[0]}if(jugadors_partida[3]){jugadors_partida[3][6]=_0xe4e4[0]}jugadors_partida[c-1][6]=_0xe4e4[454];if(jugadors_partida[c-1][0]==usuari){Mostrar_Controls_Creador(1)}Llistat_Usuaris_Partida_Set_Info(jugadors_partida)
}

function Mostrar_Controls_Creador(b){
  if(b){document[_0xe4e4[20]](_0xe4e4[464])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104];document[_0xe4e4[20]](_0xe4e4[465])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43]}else{document[_0xe4e4[20]](_0xe4e4[464])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43];document[_0xe4e4[20]](_0xe4e4[465])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104]}
}

function Rebre_Preparat(b,c){
  b=parseInt(b);c=parseInt(c);jugadors_partida[b-1][4]=c;Llistat_Usuaris_Partida_Set_Info(jugadors_partida)
}

function Rebre_Llistat_Usuaris_Partida(d,p){
  var h;var m;var l;var e;var j;var c;var f;var k;var b=new Array();var r=p[_0xe4e4[122]](_0xe4e4[128],4);var g;var o;b[0]=null;b[1]=null;b[2]=null;b[3]=null;for(var q=0;q<r[_0xe4e4[59]];q++){g=r[q][_0xe4e4[122]]("#");if(g[_0xe4e4[59]]<7){g[6]=_0xe4e4[0]}g[1]=parseInt(g[1]);g[2]=parseInt(g[2]);g[3]=parseInt(g[3]);g[4]=parseInt(g[4]);g[5]=parseInt(g[5]);o=g[1];b[o-1]=g}jugadors_partida=b;if(partida_log==0){Llistat_Usuaris_Partida_Set_Info(b)}
}

function Parsejar_Comanda_Previ_Partida(h,f,e){
  var b;var c;var d;
  switch(h){
    case _0xe4e4[191]:
      Tancar_Finestra_Previ_Partida();d=_0xe4e4[466];alert(d);break;
    case _0xe4e4[183]:codi_pas=e;Enviar_Comanda(_0xe4e4[183],usuari,_0xe4e4[56]);if(jugar_sol){setTimeout(function(){Enviar_Comanda(_0xe4e4[467],_0xe4e4[468],_0xe4e4[0])},150);setTimeout(function(){Enviar_Comanda(_0xe4e4[467],_0xe4e4[468],_0xe4e4[0])},250);setTimeout(function(){Enviar_Comanda(_0xe4e4[467],_0xe4e4[468],_0xe4e4[0])},350)}break;
    case _0xe4e4[111]:e=FerLinks(e);e=Comprovar_Smyles(e);if(estat_partida==0){AfegirTextXatPrevi(_0xe4e4[107]+f+_0xe4e4[108]+e+_0xe4e4[109])}else{AfegirTextXatPartida(_0xe4e4[107]+f+_0xe4e4[108]+e+_0xe4e4[109])}break;
    case _0xe4e4[185]:if(estat_partida==0){AfegirTextXatPrevi(_0xe4e4[469]+_0xe4e4[109]);Tancar_Finestra_Previ_Partida()}else{AfegirTextXatPartida(_0xe4e4[469]+_0xe4e4[109]);Tancar_Finestra_Partida()}alert(_0xe4e4[470]);break;
    case _0xe4e4[184]:Rebre_Llistat_Usuaris_Partida(f,e);break;
    case _0xe4e4[55]:Rebre_Preparat(f,e);break;
    case _0xe4e4[186]:Set_Creador_Partida(f,e);break;
    case _0xe4e4[187]:break;
    case _0xe4e4[188]:
      var g=document[_0xe4e4[20]](_0xe4e4[53]);g[_0xe4e4[54]]=false;break;
    case _0xe4e4[189]:break;
    case _0xe4e4[190]:
      c=parseInt(f);
      switch(c){
        case 0:d=_0xe4e4[471];break;
        case 1:d=_0xe4e4[472];break;
        case 2:d=_0xe4e4[473];break;
        case 3:d=_0xe4e4[474];break;
        case 4:d=_0xe4e4[475];break;
        default:if(e){d=e}else{d=_0xe4e4[476]}break
      }
      Tancar_Finestra_Previ_Partida();
      alert(d);
      break
  }
}

function Crear_Partida(){
  var f;var d=0;var c=0;var b=101;var e=0;f=document[_0xe4e4[20]](_0xe4e4[477]);if(f[_0xe4e4[54]]==true){d=1}f=document[_0xe4e4[20]](_0xe4e4[478]);if(f[_0xe4e4[54]]==true){c=1}f=document[_0xe4e4[20]](_0xe4e4[479]);b=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];f=document[_0xe4e4[20]](_0xe4e4[480]);e=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];Enviar_Comanda(_0xe4e4[180],usuari,0);en_partida=0;$(_0xe4e4[300])[_0xe4e4[37]](_0xe4e4[39]);Enviar_Comanda(_0xe4e4[165],_0xe4e4[86],e+_0xe4e4[87]+b+_0xe4e4[87]+d+_0xe4e4[87]+c)
}

function Finestra_Crear_Partida(){
  if(en_partida==1){return 0}en_partida=1;Enviar_Comanda(_0xe4e4[180],usuari,1);$(_0xe4e4[300])[_0xe4e4[37]](_0xe4e4[36]);return 1
}

var pos_partida;
var jugadors_partida=new Array();
var finestra_previ_partida_close=0;
var carta_alsada=90;
var carta_amplada=60;
var td=null;
var td_pos=0;
var estat_partida=0;
var en_partida=0;

function highlight(b){
  alert(_0xe4e4[435]);if(td){td[_0xe4e4[436]]=_0xe4e4[43]}b[_0xe4e4[437]][0][_0xe4e4[436]]=_0xe4e4[231];td=b[_0xe4e4[437]][0];td_pos=parseInt(b[_0xe4e4[437]][1][_0xe4e4[21]]);AfegirTextXat(_0xe4e4[438]+b[_0xe4e4[437]][1][_0xe4e4[21]]+_0xe4e4[109])
}

function Get_Jugador_Seleccionat(){
  return td_pos
}

function CP_Comensar_Partida(){
  Enviar_Comanda(_0xe4e4[439],_0xe4e4[0],_0xe4e4[0])
}

function CP_Moure(b){
  var c=Get_Jugador_Seleccionat();Enviar_Comanda(_0xe4e4[440],c,b)
}

function CP_FerFora(){
  var b=Get_Jugador_Seleccionat();Enviar_Comanda(_0xe4e4[441],b,_0xe4e4[0])
}

function Tancar_Finestra_Previ_Partida(){
  en_partida=0;$(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[39])
}

function JoinPartidaId(c){
  if(en_partida==1){return}else{en_partida=1}Mostrar_Controls_Creador(0);jugadors_partida[0]=null;jugadors_partida[1]=null;jugadors_partida[2]=null;jugadors_partida[3]=null;var b=document[_0xe4e4[20]](_0xe4e4[442]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[112]);b[_0xe4e4[33]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[25]);b[_0xe4e4[21]]=_0xe4e4[0];b=document[_0xe4e4[20]](_0xe4e4[53]);b[_0xe4e4[54]]=false;Enviar_Comanda(_0xe4e4[180],usuari,1);Enviar_Comanda(_0xe4e4[443],c,_0xe4e4[0]);estat_partida=0;if(jugar_sol){finestra_carregant_close=1;$(_0xe4e4[97])[_0xe4e4[37]](_0xe4e4[39])}$(_0xe4e4[46])[_0xe4e4[37]](_0xe4e4[36])
}

function JoinPartida(e){
  if(en_partida==1){return}var d=document[_0xe4e4[20]](e);var c=d[_0xe4e4[83]];if(c<0){return}var b=llista_partides[c][5];JoinPartidaId(b)
}

function ImatgeAbandona(c){
  var b=_0xe4e4[444];switch(c){case 0:b=b+_0xe4e4[445];break;case 1:b=b+_0xe4e4[446];break;case 2:b=b+_0xe4e4[447];break;case 3:b=b+_0xe4e4[448];break;default:return _0xe4e4[0]}return _0xe4e4[398]+b+_0xe4e4[399]
}

function TextTipus(b){
  switch(b){case 2:return _0xe4e4[449];case 3:return _0xe4e4[450]}return _0xe4e4[0]
}

function TextAjuda(b){
  switch(b){case 0:return _0xe4e4[451];case 1:return _0xe4e4[452];case 2:return _0xe4e4[453]}return _0xe4e4[0]
}

function TextPreparat(c,b){
  if(b==_0xe4e4[454]){return _0xe4e4[422]}if(c==1){return _0xe4e4[455]}return _0xe4e4[0]
}

function Llistat_Usuaris_Partida_Set_Info(b){
  var g=_0xe4e4[456];var l;var c;var l;var m;var k;var j;var f;var h;var e;for(var o=0;o<5;o++){switch(o){case 0:l=1;break;case 1:l=3;break;case 2:l=-1;break;case 3:l=2;break;case 4:l=4;break}if(l==-1){g=g+_0xe4e4[457]}else{e=b[l-1];if(e==null){g=g+_0xe4e4[458]+l+_0xe4e4[459]}else{c=e[0];l=e[1];m=e[2];k=e[3];j=e[4];f=e[5];h=e[6];g=g+_0xe4e4[460]+ImatgeAbandona(f)+c+_0xe4e4[461];g=g+_0xe4e4[462]+l+_0xe4e4[461];g=g+_0xe4e4[462]+TextTipus(m)+_0xe4e4[461];g=g+_0xe4e4[462]+TextAjuda(k)+_0xe4e4[461];g=g+_0xe4e4[462]+TextPreparat(j,h)+_0xe4e4[461];g=g+_0xe4e4[463];if((c==usuari)&&(h==_0xe4e4[454])){Mostrar_Controls_Creador(1)}}}}var d=document[_0xe4e4[20]](_0xe4e4[442]);d[_0xe4e4[21]]=g
}

function Set_Creador_Partida(c,b){
  c=parseInt(c);b=parseInt(b);if(jugadors_partida[0]){jugadors_partida[0][6]=_0xe4e4[0]}if(jugadors_partida[1]){jugadors_partida[1][6]=_0xe4e4[0]}if(jugadors_partida[2]){jugadors_partida[2][6]=_0xe4e4[0]}if(jugadors_partida[3]){jugadors_partida[3][6]=_0xe4e4[0]}jugadors_partida[c-1][6]=_0xe4e4[454];if(jugadors_partida[c-1][0]==usuari){Mostrar_Controls_Creador(1)}Llistat_Usuaris_Partida_Set_Info(jugadors_partida)
}

function Mostrar_Controls_Creador(b){
  if(b){document[_0xe4e4[20]](_0xe4e4[464])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104];document[_0xe4e4[20]](_0xe4e4[465])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43]}else{document[_0xe4e4[20]](_0xe4e4[464])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[43];document[_0xe4e4[20]](_0xe4e4[465])[_0xe4e4[42]][_0xe4e4[41]]=_0xe4e4[104]}
}

function Rebre_Preparat(b,c){
  b=parseInt(b);c=parseInt(c);jugadors_partida[b-1][4]=c;Llistat_Usuaris_Partida_Set_Info(jugadors_partida)
}

function Rebre_Llistat_Usuaris_Partida(d,p){
  var h;var m;var l;var e;var j;var c;var f;var k;var b=new Array();var r=p[_0xe4e4[122]](_0xe4e4[128],4);var g;var o;b[0]=null;b[1]=null;b[2]=null;b[3]=null;for(var q=0;q<r[_0xe4e4[59]];q++){g=r[q][_0xe4e4[122]]("#");if(g[_0xe4e4[59]]<7){g[6]=_0xe4e4[0]}g[1]=parseInt(g[1]);g[2]=parseInt(g[2]);g[3]=parseInt(g[3]);g[4]=parseInt(g[4]);g[5]=parseInt(g[5]);o=g[1];b[o-1]=g}jugadors_partida=b;if(partida_log==0){Llistat_Usuaris_Partida_Set_Info(b)}
}

function Parsejar_Comanda_Previ_Partida(h,f,e){
  var b;var c;var d;
  switch(h){
    case _0xe4e4[191]:Tancar_Finestra_Previ_Partida();d=_0xe4e4[466];alert(d);break;
    case _0xe4e4[183]:codi_pas=e;Enviar_Comanda(_0xe4e4[183],usuari,_0xe4e4[56]);if(jugar_sol){setTimeout(function(){Enviar_Comanda(_0xe4e4[467],_0xe4e4[468],_0xe4e4[0])},150);setTimeout(function(){Enviar_Comanda(_0xe4e4[467],_0xe4e4[468],_0xe4e4[0])},250);setTimeout(function(){Enviar_Comanda(_0xe4e4[467],_0xe4e4[468],_0xe4e4[0])},350)}break;
    case _0xe4e4[111]:e=FerLinks(e);e=Comprovar_Smyles(e);if(estat_partida==0){AfegirTextXatPrevi(_0xe4e4[107]+f+_0xe4e4[108]+e+_0xe4e4[109])}else{AfegirTextXatPartida(_0xe4e4[107]+f+_0xe4e4[108]+e+_0xe4e4[109])}break;
    case _0xe4e4[185]:if(estat_partida==0){AfegirTextXatPrevi(_0xe4e4[469]+_0xe4e4[109]);Tancar_Finestra_Previ_Partida()}else{AfegirTextXatPartida(_0xe4e4[469]+_0xe4e4[109]);Tancar_Finestra_Partida()}alert(_0xe4e4[470]);break;
    case _0xe4e4[184]:Rebre_Llistat_Usuaris_Partida(f,e);break;
    case _0xe4e4[55]:Rebre_Preparat(f,e);break;
    case _0xe4e4[186]:Set_Creador_Partida(f,e);break;
    case _0xe4e4[187]:break;
    case _0xe4e4[188]:
      var g=document[_0xe4e4[20]](_0xe4e4[53]);g[_0xe4e4[54]]=false;break;
    case _0xe4e4[189]:break;
    case _0xe4e4[190]:
      c=parseInt(f);
      switch(c){
        case 0:d=_0xe4e4[471];break;
        case 1:d=_0xe4e4[472];break;
        case 2:d=_0xe4e4[473];break;
        case 3:d=_0xe4e4[474];break;
        case 4:d=_0xe4e4[475];break;default:if(e){d=e}else{d=_0xe4e4[476]}break
      }
      Tancar_Finestra_Previ_Partida();alert(d);break
  }
}

function Crear_Partida(){
  var f;var d=0;var c=0;var b=101;var e=0;f=document[_0xe4e4[20]](_0xe4e4[477]);if(f[_0xe4e4[54]]==true){d=1}f=document[_0xe4e4[20]](_0xe4e4[478]);if(f[_0xe4e4[54]]==true){c=1}f=document[_0xe4e4[20]](_0xe4e4[479]);b=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];f=document[_0xe4e4[20]](_0xe4e4[480]);e=f[_0xe4e4[60]][f[_0xe4e4[83]]][_0xe4e4[33]];Enviar_Comanda(_0xe4e4[180],usuari,0);en_partida=0;$(_0xe4e4[300])[_0xe4e4[37]](_0xe4e4[39]);Enviar_Comanda(_0xe4e4[165],_0xe4e4[86],e+_0xe4e4[87]+b+_0xe4e4[87]+d+_0xe4e4[87]+c)
}

function Finestra_Crear_Partida(){
  if(en_partida==1){return 0}en_partida=1;Enviar_Comanda(_0xe4e4[180],usuari,1);$(_0xe4e4[300])[_0xe4e4[37]](_0xe4e4[36]);return 1
}

var log_partida=0;var log_partida_pos=0;var log_partida_pos_ini=0;var manual=0;var copia_estat=new Array();var n_copia_estat=0;var i_copia_estat=0;var index_mans=new Array();var joc_cartes_tots=new Array();index_mans[0]=1;var n_index_mans=1;var delay;var timer_play=0;function Omplir_Dat(){
  var b;var c=basa[_0xe4e4[314]];for(b=0;b<basa[_0xe4e4[317]];b++){Ficar_Carta_Dat(basa[_0xe4e4[315]][c-1],c);c++;if(c>4){c=1}}
}

function canviar_pos(b){
  if(log_partida==0){return}if(pos_partida==b){return}pos_partida=b;Omplir_Noms_Jugadors();if(n_ma>0){joc_cartes=joc_cartes_tots[b-1];Actualitzar_Cartes();Teure_Cartes_Dats();Omplir_Dat()}
}

function Date_parse_mili(e){
  var c;var d;var b;c=e[_0xe4e4[100]](0,19);b=e[_0xe4e4[100]](20);d=Date[_0xe4e4[481]](c);d=d+parseInt(b);return d
}

function Reset(){
  copia_estat=new Array();n_copia_estat=0;i_copia_estat=0;index_mans=new Array();index_mans[0]=1;n_index_mans=1;log_partida_pos=log_partida_pos_ini;Teure_Cartes_Dats();joc_cartes[_0xe4e4[59]]=0;Actualitzar_Cartes();Reset_Info();Seguent_pos()
}

function Guardar_Estat(){
  var c;var b;c=document[_0xe4e4[20]](_0xe4e4[482]);b=c[_0xe4e4[21]];copia_estat[i_copia_estat]={html:b,partida_pal:partida_pal,partida_pal_qui:partida_pal_qui,partida_pal_pasat:partida_pal_pasat,partida_tipus:partida_tipus,partida_punts:partida_punts,partida_acabada:partida_acabada,estat_partida:estat_partida,torn_jugador:torn_jugador,joc_cartes:joc_cartes,basa:basa,n_ma:n_ma,log_partida_pos:log_partida_pos};i_copia_estat++;n_copia_estat=i_copia_estat
}

function Canviar_Estat(b){
  var d;var c;d=document[_0xe4e4[20]](_0xe4e4[482]);d[_0xe4e4[21]]=copia_estat[b][_0xe4e4[483]];partida_pal=copia_estat[b][_0xe4e4[484]];partida_pal_qui=copia_estat[b][_0xe4e4[485]];partida_pal_pasat=copia_estat[b][_0xe4e4[486]];partida_tipus=copia_estat[b][_0xe4e4[487]];partida_punts=copia_estat[b][_0xe4e4[488]];partida_acabada=copia_estat[b][_0xe4e4[489]];estat_partida=copia_estat[b][_0xe4e4[490]];torn_jugador=copia_estat[b][_0xe4e4[491]];joc_cartes=copia_estat[b][_0xe4e4[492]];basa=copia_estat[b][_0xe4e4[493]];n_ma=copia_estat[b][_0xe4e4[494]];log_partida_pos=copia_estat[b][_0xe4e4[495]];d=document[_0xe4e4[20]](_0xe4e4[26]);d[_0xe4e4[22]]=d[_0xe4e4[23]]
}

function Back(c){
  if(!partida_log){return}if(timer_play!=0){clearTimeout(timer_play);var b=document[_0xe4e4[20]](_0xe4e4[496]);b[_0xe4e4[29]]=false}if(i_copia_estat>1){i_copia_estat=i_copia_estat-c}Canviar_Estat(i_copia_estat-1)
}

function Executar_Comanda_Logi(c){
  if(!partida_log){return}var b;var d;b=log_partida[c];if(b[_0xe4e4[102]](0)!="#"){}d=b[_0xe4e4[100]](1,24);b=b[_0xe4e4[100]](26);AfegirLog(_0xe4e4[497]+b+_0xe4e4[109]);if(b[_0xe4e4[59]]>0){comanda=Dividir_Comanda(b);Parsejar_Comanda_Partida(comanda[0],comanda[1],comanda[2]);return 1}return 0
}

function Executar_Comanda_Log(){
  var b;if(!partida_log){return}b=Executar_Comanda_Logi(log_partida_pos);log_partida_pos++;return b
}

function Seguent_Ma(){
  if(!partida_log){return}var c;var d;var b=log_partida_pos;while(d!=_0xe4e4[217]){b++;if(b>=log_partida[_0xe4e4[59]]){return}d=log_partida[b][_0xe4e4[100]](26);d=Dividir_Comanda(d);d=d[0];if(d==_0xe4e4[111]){Executar_Comanda_Logi(b)}}log_partida_pos=b;Teure_Cartes_Dats();joc_cartes[_0xe4e4[59]]=0;Actualitzar_Cartes();Seguent_pos()
}

function Back_Ma(){
  if(!partida_log){return}if(timer_play!=0){clearTimeout(timer_play);var b=document[_0xe4e4[20]](_0xe4e4[496]);b[_0xe4e4[29]]=false}if(n_ma>1){n_ma--;i_copia_estat=index_mans[n_ma];Canviar_Estat(i_copia_estat-1)}else{Reset();Seguent_pos()}
}

function Seguent_pos(){
  if(!partida_log){return}var b;var d;var e;if(log_partida_pos>=log_partida[_0xe4e4[59]]){return}if(timer_play!=0){clearTimeout(timer_play);var c=document[_0xe4e4[20]](_0xe4e4[496]);c[_0xe4e4[29]]=false}do{d=log_partida[log_partida_pos][_0xe4e4[100]](26);d=Dividir_Comanda(d);d=d[0];e=Executar_Comanda_Log();if(d==_0xe4e4[217]){Guardar_Estat();index_mans[n_ma]=n_copia_estat;n_index_mans=n_ma}if(log_partida_pos>=log_partida[_0xe4e4[59]]){return}b=log_partida[log_partida_pos][_0xe4e4[100]](26);b=Dividir_Comanda(b);b=b[0]}while(b==_0xe4e4[184]||b==_0xe4e4[200]||d==_0xe4e4[424]||d==_0xe4e4[201]||b==_0xe4e4[498]||b==_0xe4e4[202]||d==_0xe4e4[216]||b==_0xe4e4[422]||b==_0xe4e4[111]||d==_0xe4e4[217]||b==_0xe4e4[0]);Guardar_Estat()
}

function Play(e){
  if(!partida_log){return}if(log_partida_pos>=log_partida[_0xe4e4[59]]){return}var j;var c;var b;var f;var g;var h;j=new Date();c=j[_0xe4e4[499]]();if(e){g=log_partida[log_partida_pos][_0xe4e4[100]](1,24);delay=c-Date_parse_mili(g);var d=document[_0xe4e4[20]](_0xe4e4[496]);d[_0xe4e4[29]]=true}g=log_partida[log_partida_pos][_0xe4e4[100]](1,24);h=Date_parse_mili(g);while(c-delay>h){Executar_Comanda_Log();if(log_partida_pos>=log_partida[_0xe4e4[59]]){return}g=log_partida[log_partida_pos][_0xe4e4[100]](1,24);h=Date_parse_mili(g)}timer_play=setTimeout(_0xe4e4[500],h-c+delay)
}

function Stop(){
  clearTimeout(timer_play);var b=document[_0xe4e4[20]](_0xe4e4[496]);b[_0xe4e4[29]]=false
}

function ajaxRequest_manual(e){
  var d=_0xe4e4[501];var b=Math[_0xe4e4[266]](Math[_0xe4e4[265]]()*10000);var c=_0xe4e4[267]+e+_0xe4e4[268]+b;$[_0xe4e4[270]]({cache:false,scriptCharset:_0xe4e4[269]});$[_0xe4e4[271]]({url:d,data:{id:e,r:b},success:jQuery_getResponse_partida,dataType:_0xe4e4[65],error:jQuery_getResponse_partida_error})
}

function ajaxRequest_partida(e){
  var d=_0xe4e4[502];var b=Math[_0xe4e4[266]](Math[_0xe4e4[265]]()*10000);var c=_0xe4e4[267]+e+_0xe4e4[268]+b;$[_0xe4e4[270]]({cache:false,scriptCharset:_0xe4e4[269]});$[_0xe4e4[271]]({url:d,data:{id:e,r:b},success:jQuery_getResponse_partida,dataType:_0xe4e4[65],error:jQuery_getResponse_partida_error})
}

function Es_Comanda(b){
  if(b[_0xe4e4[59]]==0){return 0}if(b[_0xe4e4[102]](0)!="#"){return 0}return 1
}

function jQuery_getResponse_partida(e){
  AfegirLog(_0xe4e4[503]+e);var b;var d=new Array();var d=e[_0xe4e4[122]](_0xe4e4[283]);var c=parseInt(d[0]);if(c>0){log_partida=d;log_partida_pos=0;while(Es_Comanda(log_partida[log_partida_pos])==0){AfegirLog(_0xe4e4[504]+log_partida[log_partida_pos]+_0xe4e4[109]);if(log_partida_pos>=log_partida[_0xe4e4[59]]){break}log_partida_pos++}log_partida_pos_ini=log_partida_pos;AfegirLog(_0xe4e4[505]+log_partida_pos_ini+_0xe4e4[109]);Seguent_pos()}else{alert(_0xe4e4[506]+d[0]+_0xe4e4[507]+c)}
}

function jQuery_getResponse_partida_error(d,c,b){
  alert(_0xe4e4[276]+c)
};
